<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MESQUITE: PatchData.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>PatchData.hpp</h1><a href="PatchData_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ***************************************************************** </span>
<a name="l00002"></a>00002 <span class="comment">    MESQUITE -- The Mesh Quality Improvement Toolkit</span>
<a name="l00003"></a>00003 <span class="comment"></span>
<a name="l00004"></a>00004 <span class="comment">    Copyright 2004 Sandia Corporation and Argonne National</span>
<a name="l00005"></a>00005 <span class="comment">    Laboratory.  Under the terms of Contract DE-AC04-94AL85000 </span>
<a name="l00006"></a>00006 <span class="comment">    with Sandia Corporation, the U.S. Government retains certain </span>
<a name="l00007"></a>00007 <span class="comment">    rights in this software.</span>
<a name="l00008"></a>00008 <span class="comment"></span>
<a name="l00009"></a>00009 <span class="comment">    This library is free software; you can redistribute it and/or</span>
<a name="l00010"></a>00010 <span class="comment">    modify it under the terms of the GNU Lesser General Public</span>
<a name="l00011"></a>00011 <span class="comment">    License as published by the Free Software Foundation; either</span>
<a name="l00012"></a>00012 <span class="comment">    version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">    This library is distributed in the hope that it will be useful,</span>
<a name="l00015"></a>00015 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00016"></a>00016 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00017"></a>00017 <span class="comment">    Lesser General Public License for more details.</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">    You should have received a copy of the GNU Lesser General Public License </span>
<a name="l00020"></a>00020 <span class="comment">    (lgpl.txt) along with this library; if not, write to the Free Software</span>
<a name="l00021"></a>00021 <span class="comment">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00022"></a>00022 <span class="comment"> </span>
<a name="l00023"></a>00023 <span class="comment">    diachin2@llnl.gov, djmelan@sandia.gov, mbrewer@sandia.gov, </span>
<a name="l00024"></a>00024 <span class="comment">    pknupp@sandia.gov, tleurent@mcs.anl.gov, tmunson@mcs.anl.gov      </span>
<a name="l00025"></a>00025 <span class="comment">   </span>
<a name="l00026"></a>00026 <span class="comment">  ***************************************************************** */</span>
<a name="l00027"></a>00027 <span class="preprocessor">#ifndef MESQUITE_PATCHDATA_HPP</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#define MESQUITE_PATCHDATA_HPP</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="preprocessor">#include "<a class="code" href="Mesquite_8hpp.html">Mesquite.hpp</a>"</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include "<a class="code" href="MsqVertex_8hpp.html">MsqVertex.hpp</a>"</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include "<a class="code" href="MsqMeshEntity_8hpp.html">MsqMeshEntity.hpp</a>"</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include "<a class="code" href="MsqVertex_8hpp.html">MsqVertex.hpp</a>"</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include "<a class="code" href="MeshInterface_8hpp.html">MeshInterface.hpp</a>"</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include "<a class="code" href="MsqError_8hpp.html">MsqError.hpp</a>"</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include "<a class="code" href="Settings_8hpp.html">Settings.hpp</a>"</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include "<a class="code" href="NodeSet_8hpp.html">NodeSet.hpp</a>"</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include "<a class="code" href="MappingFunction_8hpp.html">MappingFunction.hpp</a>"</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;cstddef&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;iosfwd&gt;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="keyword">namespace </span><a class="code" href="mesquite__version_8h.html#5369e4b5c018c90ed6aa26daf172f006">MESQUITE_NS</a>
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061   <span class="keyword">class </span>ExtraData;
<a name="l00062"></a>00062   <span class="keyword">class </span>PatchDataVerticesMemento;
<a name="l00063"></a>00063   <span class="keyword">class </span>Mesh;
<a name="l00064"></a>00064   <span class="keyword">class </span>Settings;
<a name="l00065"></a>00065   
<a name="l00070"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html">00070</a>   <span class="keyword">class </span><a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> 
<a name="l00071"></a>00071   {
<a name="l00072"></a>00072   <span class="keyword">public</span>:    
<a name="l00073"></a>00073       <span class="comment">// Constructor/Destructor</span>
<a name="l00074"></a>00074     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6131994e856210e487e113fe911141a9">PatchData</a>();
<a name="l00075"></a>00075     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#7f1c9aa1312aed9b8e4120376be261ce">~PatchData</a>();
<a name="l00076"></a>00076     
<a name="l00077"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#e6eff3e4ad0cd9e64347ceddf8b6779b">00077</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#e6eff3e4ad0cd9e64347ceddf8b6779b">attach_settings</a>( <span class="keyword">const</span> Settings* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#243994a28ffd6106e150d0286a9cedaf">settings</a> )
<a name="l00078"></a>00078       { mSettings = settings; }
<a name="l00079"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#243994a28ffd6106e150d0286a9cedaf">00079</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keyword">const</span> Settings* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#243994a28ffd6106e150d0286a9cedaf">settings</a>()<span class="keyword"> const</span>
<a name="l00080"></a>00080 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings; }
<a name="l00081"></a>00081     
<a name="l00096"></a>00096         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00097"></a>00097     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d45a74d2c5d6911d7e3bff787ae87731">fill</a>( size_t num_vertex, <span class="keyword">const</span> <span class="keywordtype">double</span>* vtx_coords,
<a name="l00098"></a>00098                size_t num_elem, <a class="code" href="namespaceMesquite.html#707d0192c490b4091f9b76a82231d4b7">EntityTopology</a> type, 
<a name="l00099"></a>00099                <span class="keyword">const</span> size_t* connectivity,
<a name="l00100"></a>00100                <span class="keyword">const</span> <span class="keywordtype">bool</span>* vertex_fixed_flags,
<a name="l00101"></a>00101                MsqError&amp; err );
<a name="l00102"></a>00102     
<a name="l00116"></a>00116         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00117"></a>00117     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d45a74d2c5d6911d7e3bff787ae87731">fill</a>( size_t num_vertex, <span class="keyword">const</span> <span class="keywordtype">double</span>* vtx_coords,
<a name="l00118"></a>00118                size_t num_elem, <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#707d0192c490b4091f9b76a82231d4b7">EntityTopology</a>* elem_types,
<a name="l00119"></a>00119                <span class="keyword">const</span> size_t* connectivity,
<a name="l00120"></a>00120                <span class="keyword">const</span> <span class="keywordtype">bool</span>* vertex_fixed_flags,
<a name="l00121"></a>00121                MsqError&amp; err );
<a name="l00122"></a>00122     
<a name="l00138"></a>00138         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00139"></a>00139     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d45a74d2c5d6911d7e3bff787ae87731">fill</a>( size_t num_vertex, <span class="keyword">const</span> <span class="keywordtype">double</span>* vtx_coords,
<a name="l00140"></a>00140                size_t num_elem, <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#707d0192c490b4091f9b76a82231d4b7">EntityTopology</a>* elem_types,
<a name="l00141"></a>00141                <span class="keyword">const</span> size_t* vertex_per_elem,
<a name="l00142"></a>00142                <span class="keyword">const</span> size_t* elem_connectivity,
<a name="l00143"></a>00143                <span class="keyword">const</span> <span class="keywordtype">bool</span>* vertex_fixed_flags,
<a name="l00144"></a>00144                MsqError&amp; err );
<a name="l00145"></a>00145                
<a name="l00150"></a>00150         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00151"></a>00151     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#712858a8dfb6fc364c8324cb91ac306c">fill_global_patch</a>( MsqError&amp; err );
<a name="l00152"></a>00152     
<a name="l00153"></a>00153     
<a name="l00154"></a>00154         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00155"></a>00155    <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#1bc490bcd19a4ed866f6198af89888e6">set_mesh_entities</a>( 
<a name="l00156"></a>00156                    std::vector&lt;Mesh::ElementHandle&gt;&amp; patch_elems,
<a name="l00157"></a>00157                    std::vector&lt;Mesh::VertexHandle&gt;&amp; free_vertices,
<a name="l00158"></a>00158                    MsqError&amp; err );
<a name="l00159"></a>00159     
<a name="l00160"></a>00160   <span class="keyword">private</span>:
<a name="l00163"></a>00163     <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6131994e856210e487e113fe911141a9">PatchData</a>(<span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> &amp;pd);
<a name="l00166"></a>00166     <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> &amp;pd);
<a name="l00167"></a>00167     
<a name="l00168"></a>00168   <span class="keyword">public</span>:
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65">00170</a>     <span class="keyword">enum</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65">ComputedInfo</a> {
<a name="l00171"></a>00171       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f6516a8db5d83b0cfeb2854df3d53a1798a">MIN_UNSIGNED_AREA</a> = 0, 
<a name="l00172"></a>00172       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65f32a7eb9c88cb6e937a5173a8e7d8dd8">MAX_UNSIGNED_AREA</a>, 
<a name="l00173"></a>00173       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f651e3ca556242bcc622fc50569eff03a86">MIN_EDGE_LENGTH</a>, 
<a name="l00174"></a>00174       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65ad101f93acac6fdda31198f07791ea00">MAX_EDGE_LENGTH</a>, 
<a name="l00175"></a>00175       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65cc1262cd2b6bba042a7fb075d4e66e25">MINMAX_SIGNED_DET2D</a>, 
<a name="l00176"></a>00176       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f655fd51e46f088cd351bdb2d4c2c629616">MINMAX_SIGNED_DET3D</a>, 
<a name="l00177"></a>00177       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65f281f54e2627ea9735812b74c3c9b26b">AVERAGE_DET3D</a>, 
<a name="l00178"></a>00178       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f657f1ff0f13e6d0ace280aaf287a5c7797">MAX_COMPUTED_INFO_ENUM</a>
<a name="l00179"></a>00179     };
<a name="l00180"></a>00180 
<a name="l00182"></a>00182         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00183"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ae19765c601c5be2a78a8c9c7a91309f">00183</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ae19765c601c5be2a78a8c9c7a91309f">clear_computed_info</a>() { haveComputedInfos = 0; }
<a name="l00184"></a>00184     
<a name="l00185"></a>00185         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00186"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#dfa03573d294e05fd546aec3bdd1183c">00186</a>     <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#dfa03573d294e05fd546aec3bdd1183c">have_computed_info</a>( <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65">ComputedInfo</a> info )<span class="keyword"> const</span>
<a name="l00187"></a>00187 <span class="keyword">      </span>{ <span class="keywordflow">return</span> 0 != (haveComputedInfos&amp;(1&lt;&lt;info)); }
<a name="l00188"></a>00188     
<a name="l00192"></a>00192         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00193"></a>00193     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#21af5ab4a7f6b72360b35192fcdecfdf">get_minmax_element_unsigned_area</a>(<span class="keywordtype">double</span>&amp; min, <span class="keywordtype">double</span>&amp; max, MsqError &amp;err);
<a name="l00194"></a>00194     
<a name="l00195"></a>00195         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00196"></a>00196     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f30415cb78f0811e116f96e82295f30b">get_minmax_edge_length</a>(<span class="keywordtype">double</span>&amp; min, <span class="keywordtype">double</span>&amp; max) <span class="keyword">const</span>;
<a name="l00197"></a>00197 
<a name="l00201"></a>00201 <span class="comment">//    double get_average_Lambda_3d(MsqError &amp;err); </span>
<a name="l00202"></a>00202 
<a name="l00204"></a>00204         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00205"></a>00205    <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#e64db5a11675b907c4c3ecccfdcdd976">clear</a>();
<a name="l00207"></a>00207         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00208"></a>00208    <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f12a266ba03d932d2e4173bd7c3292cf">reorder</a>();
<a name="l00209"></a>00209 
<a name="l00211"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#bf0a4a0664680b814d20979a256f268c">00211</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bf0a4a0664680b814d20979a256f268c">num_nodes</a>()<span class="keyword"> const</span>
<a name="l00212"></a>00212 <span class="keyword">      </span>{ <span class="keywordflow">return</span> vertexArray.size();}
<a name="l00213"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#5ad48f9115c41fb76828cbe7c998aa9f">00213</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5ad48f9115c41fb76828cbe7c998aa9f">num_free_vertices</a>()<span class="keyword"> const</span>
<a name="l00214"></a>00214 <span class="keyword">      </span>{ <span class="keywordflow">return</span> numFreeVertices; }
<a name="l00215"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#2b418452cbe5cde6efea8525387d1df3">00215</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2b418452cbe5cde6efea8525387d1df3">num_slave_vertices</a>()<span class="keyword"> const</span>
<a name="l00216"></a>00216 <span class="keyword">      </span>{ <span class="keywordflow">return</span> numSlaveVertices; }
<a name="l00217"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0432d3c01b273fb61af778c96e401b">00217</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0432d3c01b273fb61af778c96e401b">num_fixed_vertices</a>()<span class="keyword"> const</span>
<a name="l00218"></a>00218 <span class="keyword">      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bf0a4a0664680b814d20979a256f268c">num_nodes</a>() - <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5ad48f9115c41fb76828cbe7c998aa9f">num_free_vertices</a>() - <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2b418452cbe5cde6efea8525387d1df3">num_slave_vertices</a>(); }
<a name="l00220"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#856cdfdedc9b0b6aae0493378e2875bd">00220</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#856cdfdedc9b0b6aae0493378e2875bd">num_elements</a>()<span class="keyword"> const</span>
<a name="l00221"></a>00221 <span class="keyword">      </span>{ <span class="keywordflow">return</span> elementArray.size(); }
<a name="l00222"></a>00222     
<a name="l00223"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#e1fc5e789ebfe57fcfbe43d0932cfb39">00223</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#e1fc5e789ebfe57fcfbe43d0932cfb39">is_vertex_free</a>(size_t index)<span class="keyword"> const</span>
<a name="l00224"></a>00224 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &lt; numFreeVertices; }
<a name="l00225"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#e0f9ad9fa0e43524875dc42d32cb041f">00225</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#e0f9ad9fa0e43524875dc42d32cb041f">is_vertex_not_free</a>( size_t index )<span class="keyword"> const</span>
<a name="l00226"></a>00226 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &gt;= numFreeVertices; }
<a name="l00227"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#388b13c94ae2f5bffa7e4f0c84e0e807">00227</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#388b13c94ae2f5bffa7e4f0c84e0e807">is_vertex_slave</a>(size_t index)<span class="keyword"> const</span>
<a name="l00228"></a>00228 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &gt;= numFreeVertices &amp;&amp; (index - numFreeVertices) &lt; numSlaveVertices; }
<a name="l00229"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#26a794a9c9125bdcc77c9cb600db2994">00229</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#26a794a9c9125bdcc77c9cb600db2994">is_vertex_fixed</a>(size_t index)<span class="keyword"> const</span>
<a name="l00230"></a>00230 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &gt;= numFreeVertices + numSlaveVertices; }
<a name="l00231"></a>00231     
<a name="l00233"></a>00233     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#b3a3fa0555512a540895696597406668">num_corners</a>() <span class="keyword">const</span>;
<a name="l00234"></a>00234     
<a name="l00236"></a>00236     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keyword">const</span> MsqVertex* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ecaf66765bc0c9e5195a858c96414bb1">get_vertex_array</a>( MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00237"></a>00237     <span class="comment">//MsqVertex* get_vertex_array(MsqError &amp;err);</span>
<a name="l00238"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ecaf66765bc0c9e5195a858c96414bb1">00238</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keyword">const</span> MsqVertex* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ecaf66765bc0c9e5195a858c96414bb1">get_vertex_array</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(vertexArray); }
<a name="l00239"></a>00239     <span class="comment">//MsqVertex* get_vertex_array()             { return arrptr(vertexArray); }</span>
<a name="l00240"></a>00240     
<a name="l00242"></a>00242     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#34833a5abf08c47d85e563c4b843628a">get_element_array</a>( MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00243"></a>00243     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#34833a5abf08c47d85e563c4b843628a">get_element_array</a>(MsqError &amp;err);
<a name="l00244"></a>00244     
<a name="l00245"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#d6e6fc92c5b06adbab69c7ecaa5a7e15">00245</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d6e6fc92c5b06adbab69c7ecaa5a7e15">get_connectivity_array</a>( )
<a name="l00246"></a>00246       { <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(elemConnectivityArray); }
<a name="l00247"></a>00247       
<a name="l00248"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#c029c78e703f03fc959cceee008dd584">00248</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> Mesh::ElementHandle* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c029c78e703f03fc959cceee008dd584">get_element_handles_array</a>( )
<a name="l00249"></a>00249       { <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(elementHandlesArray); }
<a name="l00250"></a>00250     
<a name="l00251"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#a12c79ec035ac568159dd9173ee7bef4">00251</a>     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> Mesh::VertexHandle* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a12c79ec035ac568159dd9173ee7bef4">get_vertex_handles_array</a>()
<a name="l00252"></a>00252       { <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(vertexHandlesArray); }
<a name="l00253"></a>00253     
<a name="l00258"></a>00258     <span class="comment">//const size_t* get_vertex_to_elem_array(MsqError &amp;err);</span>
<a name="l00266"></a>00266 <span class="comment"></span>    <span class="comment">//const size_t* get_vertex_to_elem_offset(MsqError &amp;err);</span>
<a name="l00267"></a>00267     
<a name="l00268"></a>00268     <span class="comment">//MsqVertex&amp; vertex_by_index(size_t index);</span>
<a name="l00269"></a>00269     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keyword">const</span> MsqVertex&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c4525a3ee525a2ba04f2993fd80497c2">vertex_by_index</a>(size_t index) <span class="keyword">const</span>;
<a name="l00270"></a>00270     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#265903e20c6da3b7c1c9453c0b74670a">element_by_index</a>(size_t index);
<a name="l00271"></a>00271     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#265903e20c6da3b7c1c9453c0b74670a">element_by_index</a>(size_t index) <span class="keyword">const</span>;
<a name="l00272"></a>00272     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#653592a7a3567d4595c80d0606427bd6">get_vertex_index</a>(MsqVertex* vertex);
<a name="l00273"></a>00273     <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2ae43e6777f51382f7854bb9a6b82cd1">get_element_index</a>(<a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* element);
<a name="l00274"></a>00274     
<a name="l00276"></a>00276         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00277"></a>00277     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3f8108f08fb672ce6f0b55f80ce6deeb">get_element_vertex_coordinates</a>(size_t elem_index,
<a name="l00278"></a>00278                                         std::vector&lt;Vector3D&gt; &amp;coords,
<a name="l00279"></a>00279                                         MsqError &amp;err);
<a name="l00281"></a>00281         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00282"></a>00282     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#497ba5493d0827a58f13f0ac6b0b35c9">get_element_vertex_indices</a>(size_t elem_index,
<a name="l00283"></a>00283                                     std::vector&lt;size_t&gt; &amp;vertex_indices,
<a name="l00284"></a>00284                                     MsqError &amp;err);
<a name="l00286"></a>00286         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00287"></a>00287     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2aa1d800a0a73630943e22aebb1fa330">get_vertex_element_indices</a>(size_t vertex_index,
<a name="l00288"></a>00288                                     std::vector&lt;size_t&gt; &amp;elem_indices,
<a name="l00289"></a>00289                                     MsqError &amp;err);
<a name="l00290"></a>00290     
<a name="l00293"></a>00293         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00294"></a>00294     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2aa1d800a0a73630943e22aebb1fa330">get_vertex_element_indices</a>( size_t vertex_index,
<a name="l00295"></a>00295                                      <span class="keywordtype">unsigned</span> element_dimension,
<a name="l00296"></a>00296                                      std::vector&lt;size_t&gt;&amp; elem_indices,
<a name="l00297"></a>00297                                      MsqError&amp; err );
<a name="l00298"></a>00298     
<a name="l00300"></a>00300         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00301"></a>00301     <span class="keyword">const</span> size_t* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#71e419a97245d6f121d61acac4eb1446">get_vertex_element_adjacencies</a>( size_t vertex_index,
<a name="l00302"></a>00302                                                   size_t&amp; array_len_out,
<a name="l00303"></a>00303                                                   MsqError&amp; err );
<a name="l00304"></a>00304     
<a name="l00308"></a>00308         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00309"></a>00309     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#17d3611d728d0544867fc9601c934344">get_adjacent_vertex_indices</a>(size_t vertex_index,
<a name="l00310"></a>00310                                      std::vector&lt;size_t&gt; &amp;vert_indices,
<a name="l00311"></a>00311                                      MsqError &amp;err) <span class="keyword">const</span>;
<a name="l00312"></a>00312     
<a name="l00313"></a>00313     
<a name="l00320"></a>00320         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00321"></a>00321     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#fcaeb241f73603a8201882228f5c5fc3">get_adjacent_entities_via_n_dim</a>(<span class="keywordtype">int</span> n, size_t ent_ind,
<a name="l00322"></a>00322                                          std::vector&lt;size_t&gt; &amp;adj_ents,
<a name="l00323"></a>00323                                          MsqError &amp;err);
<a name="l00324"></a>00324     
<a name="l00329"></a>00329         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00330"></a>00330     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#4a3b86eb1ec8a7fd0fd632dbcff00d16">generate_vertex_to_element_data</a>();
<a name="l00331"></a>00331 
<a name="l00334"></a>00334         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00335"></a>00335     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bbd1680c446e4b360b8f98930ac4e1a9">set_vertex_coordinates</a>(<span class="keyword">const</span> Vector3D &amp;coords,
<a name="l00336"></a>00336                                 size_t index,
<a name="l00337"></a>00337                                 MsqError &amp;err);
<a name="l00340"></a>00340         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00341"></a>00341     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#080d3f9d7b938cc14347bad0e5dd0c16">move_vertex</a>( <span class="keyword">const</span> Vector3D &amp;delta, size_t index, MsqError &amp;err);
<a name="l00342"></a>00342 
<a name="l00347"></a>00347         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00348"></a>00348     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#9325adabd271ff7164ff443ac046d68e">snap_vertex_to_domain</a>(size_t vertex_index, MsqError &amp;err);
<a name="l00349"></a>00349 
<a name="l00353"></a>00353         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00354"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#b113c54986ce938d6b60e84d8faf921f">00354</a>     <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#b113c54986ce938d6b60e84d8faf921f">domain_set</a>()<span class="keyword"> const</span>
<a name="l00355"></a>00355 <span class="keyword">    </span>{ <span class="keywordflow">return</span> 0 != myDomain; }
<a name="l00356"></a>00356     
<a name="l00357"></a>00357       <span class="comment">/*\brief Get domain normal at vertex location</span>
<a name="l00358"></a>00358 <span class="comment">       *</span>
<a name="l00359"></a>00359 <span class="comment">       * Get the normal of the domain associated with the passed</span>
<a name="l00360"></a>00360 <span class="comment">       * element handle at the location of the specified vertex.</span>
<a name="l00361"></a>00361 <span class="comment">       *\param vert_index  The index of the vertex in this PatchData</span>
<a name="l00362"></a>00362 <span class="comment">       *\param elem_handle The handle of the element passed to the domain </span>
<a name="l00363"></a>00363 <span class="comment">       *\param normal_out  The resulting domain normal</span>
<a name="l00364"></a>00364 <span class="comment">       *\param err         Error flag.  Possible error conditions include:</span>
<a name="l00365"></a>00365 <span class="comment">       *                   invalid input data, no domain associated with</span>
<a name="l00366"></a>00366 <span class="comment">       *                   element, no domain at all, etc.</span>
<a name="l00367"></a>00367 <span class="comment">       */</span>
<a name="l00368"></a>00368         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00369"></a>00369     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#87e9e75716ebd8ff05f608c148813bab">get_domain_normal_at_vertex</a>( size_t vert_index,
<a name="l00370"></a>00370                                       Mesh::ElementHandle element,
<a name="l00371"></a>00371                                       Vector3D&amp; normal_out,
<a name="l00372"></a>00372                                       MsqError&amp; err );
<a name="l00373"></a>00373     
<a name="l00381"></a>00381         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00382"></a>00382     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40b4f16294f0308121501bcf35a23ac1">get_domain_normal_at_element</a>(size_t elem_index, 
<a name="l00383"></a>00383                                       Vector3D &amp;surf_norm,
<a name="l00384"></a>00384                                       MsqError &amp;err);
<a name="l00385"></a>00385     
<a name="l00390"></a>00390         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00391"></a>00391     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#471045d7f4cbc15c946dfc0da01540b5">get_domain_normals_at_corners</a>( size_t element_index,
<a name="l00392"></a>00392                                         Vector3D normals_out[],
<a name="l00393"></a>00393                                         MsqError&amp; err ) ;
<a name="l00394"></a>00394                                         
<a name="l00395"></a>00395         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00396"></a>00396     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#1983bbde2f4c45f26b244ad75e4377ca">get_domain_normal_at_corner</a>( size_t elemen_index,
<a name="l00397"></a>00397                                       <span class="keywordtype">unsigned</span> corner,
<a name="l00398"></a>00398                                       Vector3D&amp; normal,
<a name="l00399"></a>00399                                       MsqError&amp; err );
<a name="l00400"></a>00400     
<a name="l00401"></a>00401         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00402"></a>00402     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#fc60fc88cd8658d1402d5f3ca72f5c86">get_domain_normal_at_mid_edge</a>( size_t element_index,
<a name="l00403"></a>00403                                         <span class="keywordtype">unsigned</span> edge_number,
<a name="l00404"></a>00404                                         Vector3D&amp; normal,
<a name="l00405"></a>00405                                         MsqError&amp; err );
<a name="l00406"></a>00406 
<a name="l00408"></a>00408         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00409"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#7ae644629c5d2070fcef33c4bbd1c163">00409</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40b4f16294f0308121501bcf35a23ac1">get_domain_normal_at_element</a>(<span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* elem_ptr,
<a name="l00410"></a>00410                                       Vector3D &amp;surf_norm, MsqError &amp;err)  
<a name="l00411"></a>00411     { <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40b4f16294f0308121501bcf35a23ac1">get_domain_normal_at_element</a>(size_t(elem_ptr-&amp;(elementArray[0])), surf_norm, err); }
<a name="l00412"></a>00412     
<a name="l00413"></a>00413         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00414"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#655d13dbf0d5643b785cf28e132b8c73">00414</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#655d13dbf0d5643b785cf28e132b8c73">get_domain_normal_at_sample</a>( size_t element_index,
<a name="l00415"></a>00415                                       Sample location,
<a name="l00416"></a>00416                                       Vector3D &amp;surf_norm, MsqError &amp;err)  
<a name="l00417"></a>00417     {
<a name="l00418"></a>00418       <span class="keywordflow">switch</span>(location.dimension) {
<a name="l00419"></a>00419         <span class="keywordflow">case</span> 0:
<a name="l00420"></a>00420           <a class="code" href="classMESQUITE__NS_1_1PatchData.html#1983bbde2f4c45f26b244ad75e4377ca">get_domain_normal_at_corner</a>( element_index, location.number, surf_norm, err );
<a name="l00421"></a>00421           <span class="keywordflow">break</span>;
<a name="l00422"></a>00422         <span class="keywordflow">case</span> 1:
<a name="l00423"></a>00423           <a class="code" href="classMESQUITE__NS_1_1PatchData.html#fc60fc88cd8658d1402d5f3ca72f5c86">get_domain_normal_at_mid_edge</a>( element_index, location.number, surf_norm, err );
<a name="l00424"></a>00424           <span class="keywordflow">break</span>;
<a name="l00425"></a>00425         <span class="keywordflow">case</span> 2:
<a name="l00426"></a>00426           assert(location.number == 0);
<a name="l00427"></a>00427           <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40b4f16294f0308121501bcf35a23ac1">get_domain_normal_at_element</a>( element_index, surf_norm, err );
<a name="l00428"></a>00428           <span class="keywordflow">break</span>;
<a name="l00429"></a>00429         <span class="keywordflow">default</span>:
<a name="l00430"></a>00430           <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)(<span class="stringliteral">"Invalid dimension for surface element subentity.\n"</span>, MsqError::INVALID_ARG );
<a name="l00431"></a>00431       }
<a name="l00432"></a>00432     }
<a name="l00433"></a>00433 
<a name="l00435"></a>00435       <span class="comment">/*\param dk an array of directions, ordered like the vertices in</span>
<a name="l00436"></a>00436 <span class="comment">        the PatchData.</span>
<a name="l00437"></a>00437 <span class="comment">        \param nb_vtx number of vertices.</span>
<a name="l00438"></a>00438 <span class="comment">        \param step_size a scalar that multiplies the vectors given in dk.</span>
<a name="l00439"></a>00439 <span class="comment">      */</span>
<a name="l00440"></a>00440         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00441"></a>00441     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f93a5208a32ced908c36c4fc55d77d37">move_free_vertices_constrained</a>(Vector3D dk[], size_t nb_vtx,
<a name="l00442"></a>00442                                         <span class="keywordtype">double</span> step_size, MsqError &amp;err);
<a name="l00443"></a>00443     
<a name="l00451"></a>00451         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00452"></a>00452     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5603b0ad0469ab34531f088261a981d9">set_free_vertices_constrained</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento, 
<a name="l00453"></a>00453                                        Vector3D dk[], size_t nb_vtx,
<a name="l00454"></a>00454                                        <span class="keywordtype">double</span> step_size, MsqError &amp;err);
<a name="l00455"></a>00455     
<a name="l00457"></a>00457         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00458"></a>00458     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d7287ec92cd187a9875639c3dc127968">project_gradient</a>( std::vector&lt;Vector3D&gt;&amp; <a class="code" href="namespaceMesquite.html#d459a2b1cc875ef715ef1d200f8c05a1">gradient</a>, MsqError&amp; err );
<a name="l00459"></a>00459 
<a name="l00462"></a>00462         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00463"></a>00463     <span class="keywordtype">double</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#20cf21ead6660759dfaf45611e7f8658">get_max_vertex_movement_squared</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento,
<a name="l00464"></a>00464                                            MsqError &amp;err);
<a name="l00465"></a>00465     
<a name="l00471"></a>00471         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00472"></a>00472     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#efbc189d3b36a3b8452429c41a27bf37">update_mesh</a>(MsqError &amp;err, <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#d751f4b578e1e2b9c5be95f5e2b70b1d">TagHandle</a>* tag = 0);
<a name="l00473"></a>00473     
<a name="l00476"></a>00476         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00477"></a>00477     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3a4bdeebed073fcb53006c6782f4d4f6">update_slave_node_coordinates</a>( MsqError&amp; err );
<a name="l00478"></a>00478         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00479"></a>00479     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3a4bdeebed073fcb53006c6782f4d4f6">update_slave_node_coordinates</a>( <span class="keyword">const</span> size_t* elem_indices,
<a name="l00480"></a>00480                                         size_t num_elem,
<a name="l00481"></a>00481                                         MsqError&amp; err );
<a name="l00482"></a>00482     
<a name="l00484"></a>00484         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00485"></a>00485     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#97245b90e4a7290dbda21bbf30027593">set_all_vertices_soft_free</a>(MsqError &amp;err);
<a name="l00487"></a>00487         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00488"></a>00488     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d37322e9b0a3338c48f08299a11e3a2f">set_all_vertices_soft_fixed</a>(MsqError &amp;err);
<a name="l00490"></a>00490         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00491"></a>00491     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a7141447fc2ba6fa83d9182c68ee507c">set_free_vertices_soft_fixed</a>(MsqError &amp;err);
<a name="l00492"></a>00492 
<a name="l00494"></a>00494         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00495"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#cc9c0f5a21cd4bfd3e63e2185a6d247c">00495</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#cc9c0f5a21cd4bfd3e63e2185a6d247c">set_vertex_culled</a>( size_t vtx_index )
<a name="l00496"></a>00496       { vertexArray[vtx_index].flags() |= MsqVertex::MSQ_CULLED; }
<a name="l00498"></a>00498         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00499"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#4017d2770ae79217e624582f6d15c614">00499</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#4017d2770ae79217e624582f6d15c614">clear_vertex_culled</a>( size_t vtx_index )
<a name="l00500"></a>00500       { vertexArray[vtx_index].flags() &amp;= ~MsqVertex::MSQ_CULLED; }
<a name="l00502"></a>00502         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00503"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#25471d16515c06d2533847743e046c06">00503</a>     <span class="keywordtype">int</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#25471d16515c06d2533847743e046c06">check_vertex_culled</a>( size_t vtx_index )<span class="keyword"> const</span>
<a name="l00504"></a>00504 <span class="keyword">      </span>{ <span class="keywordflow">return</span> vertexArray[vtx_index].get_flags() | MsqVertex::MSQ_CULLED; }
<a name="l00505"></a>00505     
<a name="l00512"></a>00512         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00513"></a>00513     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f897dff015b061ac84548672c67f25f1">get_subpatch</a>(size_t center_vertex_index,
<a name="l00514"></a>00514                       <span class="keywordtype">unsigned</span> num_adj_elem_layers,
<a name="l00515"></a>00515                       <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> &amp;pd_to_fill,
<a name="l00516"></a>00516                       MsqError &amp;err);
<a name="l00517"></a>00517     
<a name="l00518"></a>00518         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00519"></a>00519     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#cceab6ef2e13e5665d461a915fd4fc04">get_free_vertex_coordinates</a>( std::vector&lt;Vector3D&gt;&amp; coords_out ) <span class="keyword">const</span>;
<a name="l00520"></a>00520     
<a name="l00523"></a>00523         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00524"></a>00524     <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3c3b05585075b199b25bf8d0be5f731e">create_vertices_memento</a>( MsqError &amp;err );
<a name="l00525"></a>00525     
<a name="l00528"></a>00528         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00529"></a>00529     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#567405ba14310d5755c8135a48af7d96">recreate_vertices_memento</a>( <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento, 
<a name="l00530"></a>00530                                     MsqError &amp;err );
<a name="l00531"></a>00531     
<a name="l00534"></a>00534         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00535"></a>00535     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a542172ed6035c64bac38b9e474990ae">set_to_vertices_memento</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento,
<a name="l00536"></a>00536                                  MsqError &amp;err);
<a name="l00537"></a>00537 
<a name="l00540"></a>00540         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00541"></a>00541     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c64be350fec150761204d1a501be33f0">set_mesh</a>(Mesh* ms);
<a name="l00542"></a>00542     
<a name="l00544"></a>00544         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00545"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#57580b6ba843d59749db71128048fe38">00545</a>     Mesh* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#57580b6ba843d59749db71128048fe38">get_mesh</a>()<span class="keyword"> const</span>
<a name="l00546"></a>00546 <span class="keyword">      </span>{ <span class="keywordflow">return</span> myMesh; }
<a name="l00547"></a>00547       
<a name="l00548"></a>00548         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00549"></a>00549     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c6f49c8fa03b2cdcfa6b6da6feeab115">set_domain</a>( MeshDomain* dm );
<a name="l00550"></a>00550     
<a name="l00551"></a>00551         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00552"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#a9185bdee832a2ec42df9943d6a072ce">00552</a>     MeshDomain* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a9185bdee832a2ec42df9943d6a072ce">get_domain</a>()<span class="keyword"> const</span>
<a name="l00553"></a>00553 <span class="keyword">      </span>{ <span class="keywordflow">return</span> myDomain; }
<a name="l00554"></a>00554     
<a name="l00555"></a>00555     
<a name="l00556"></a>00556         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00557"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#89c84f0d55f19e1afdf6fef2da9a2de5">00557</a>     <span class="keyword">const</span> Settings* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#89c84f0d55f19e1afdf6fef2da9a2de5">get_settings</a>()<span class="keyword"> const</span>
<a name="l00558"></a>00558 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings; }
<a name="l00559"></a>00559         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00560"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#21d0fb81d1e2d7ef21bf207a75b56366">00560</a>     <span class="keyword">const</span> MappingFunction* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#21d0fb81d1e2d7ef21bf207a75b56366">get_mapping_function</a>( <a class="code" href="namespaceMesquite.html#707d0192c490b4091f9b76a82231d4b7">EntityTopology</a> type )<span class="keyword"> const</span>
<a name="l00561"></a>00561 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings-&gt;get_mapping_function(type); }
<a name="l00562"></a>00562         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00563"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ee045e632920f32ce9067c0eda14f383">00563</a>     <span class="keyword">const</span> MappingFunction2D* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ee045e632920f32ce9067c0eda14f383">get_mapping_function_2D</a>( <a class="code" href="namespaceMesquite.html#707d0192c490b4091f9b76a82231d4b7">EntityTopology</a> type )<span class="keyword"> const</span>
<a name="l00564"></a>00564 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings-&gt;get_mapping_function_2D(type); }
<a name="l00565"></a>00565         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00566"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#fc274dede36fc83ef7e3d827a9466879">00566</a>     <span class="keyword">const</span> MappingFunction3D* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#fc274dede36fc83ef7e3d827a9466879">get_mapping_function_3D</a>( <a class="code" href="namespaceMesquite.html#707d0192c490b4091f9b76a82231d4b7">EntityTopology</a> type )<span class="keyword"> const</span>
<a name="l00567"></a>00567 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings-&gt;get_mapping_function_3D(type); }
<a name="l00568"></a>00568     
<a name="l00570"></a>00570         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00571"></a>00571     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a500ff6a92e6a792795b889c570d2511">get_sample_location</a>( size_t element_index,
<a name="l00572"></a>00572                               Sample sample,
<a name="l00573"></a>00573                               Vector3D&amp; result,
<a name="l00574"></a>00574                               MsqError&amp; err ) <span class="keyword">const</span>;  
<a name="l00575"></a>00575     
<a name="l00578"></a>00578         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00579"></a>00579     NodeSet <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a284a17201da28e1eb23b0f631fc15d9">non_slave_node_set</a>( size_t elem_idx ) <span class="keyword">const</span>;  
<a name="l00580"></a>00580     
<a name="l00581"></a>00581         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00582"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#40bc7be2b5bbb6ce36017ca7b789cd7b">00582</a>     NodeSet <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40bc7be2b5bbb6ce36017ca7b789cd7b">get_samples</a>( size_t element, NodeSet non_slave_nodes )<span class="keyword"> const</span>
<a name="l00583"></a>00583 <span class="keyword">    </span>{
<a name="l00584"></a>00584         <span class="comment">// If we have a mapping function, use it</span>
<a name="l00585"></a>00585       <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#707d0192c490b4091f9b76a82231d4b7">EntityTopology</a> type = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#265903e20c6da3b7c1c9453c0b74670a">element_by_index</a>(element).<a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html#380269fe3ff939c42d874bc5f0053b7f">get_element_type</a>();
<a name="l00586"></a>00586       <span class="keyword">const</span> MappingFunction* f;
<a name="l00587"></a>00587       <span class="keywordflow">if</span> (mSettings &amp;&amp; (f = mSettings-&gt;get_mapping_function(type)))
<a name="l00588"></a>00588         <span class="keywordflow">return</span> f-&gt;sample_points( non_slave_nodes );
<a name="l00589"></a>00589         <span class="comment">// Otherwise default to sampling at all non-slave nodes</span>
<a name="l00590"></a>00590       non_slave_nodes.set_all_corner_nodes(type);
<a name="l00591"></a>00591       <span class="keywordflow">return</span> non_slave_nodes;
<a name="l00592"></a>00592     }
<a name="l00593"></a>00593     
<a name="l00594"></a>00594         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00595"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#996882688e76f85d7f9f1821c48f0534">00595</a>     NodeSet <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40bc7be2b5bbb6ce36017ca7b789cd7b">get_samples</a>( size_t element )<span class="keyword"> const</span>
<a name="l00596"></a>00596 <span class="keyword">      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40bc7be2b5bbb6ce36017ca7b789cd7b">get_samples</a>( element, <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a284a17201da28e1eb23b0f631fc15d9">non_slave_node_set</a>( element ) ); }
<a name="l00597"></a>00597     
<a name="l00598"></a>00598         <a class="code" href="Mesquite_8hpp.html#5f921ee4cedd241897e59015f4c86e49">MESQUITE_EXPORT</a>
<a name="l00599"></a>00599     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#40bc7be2b5bbb6ce36017ca7b789cd7b">get_samples</a>( size_t element, std::vector&lt;Sample&gt;&amp; samples_out, MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00600"></a>00600     
<a name="l00602"></a>00602     <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#568a4a24365c514635a21d1b3d9b7f66">operator&lt;&lt;</a>( std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>&amp; );
<a name="l00603"></a>00603    
<a name="l00604"></a>00604    <span class="keyword">private</span>:
<a name="l00605"></a>00605    
<a name="l00606"></a>00606     <span class="comment">/* allow access to the following to functions */</span>
<a name="l00607"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#24c0d422465499d209b3939f14cefe37">00607</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMesquite_1_1ExtraData.html">Mesquite::ExtraData</a>;    
<a name="l00609"></a>00609     <span class="keywordtype">bool</span> attach_extra_data( <a class="code" href="classMesquite_1_1ExtraData.html#3ddfe200dd902a87b00af23d18d421a2">ExtraData</a>* data );
<a name="l00611"></a>00611     <span class="keywordtype">bool</span> remove_extra_data( <a class="code" href="classMesquite_1_1ExtraData.html#3ddfe200dd902a87b00af23d18d421a2">ExtraData</a>* data );
<a name="l00612"></a>00612 
<a name="l00614"></a>00614     <span class="keywordtype">void</span> <a class="code" href="classMesquite_1_1ExtraData.html#457134b5a8f576b4b5a165bbb2fb5ed5">notify_new_patch</a>( );
<a name="l00624"></a>00624     <span class="keywordtype">void</span> <a class="code" href="classMesquite_1_1ExtraData.html#b085c851c9e5f3962c0f1293fc9ec2a2">notify_sub_patch</a>( <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>&amp; sub_patch, 
<a name="l00625"></a>00625                            <span class="keyword">const</span> size_t* vertex_index_map,
<a name="l00626"></a>00626                            <span class="keyword">const</span> size_t* element_index_map,
<a name="l00627"></a>00627                            MsqError&amp; err );
<a name="l00629"></a>00629     <span class="keywordtype">void</span> <a class="code" href="classMesquite_1_1ExtraData.html#d2597ffc2ed0cb364f2363eddb5b62b8">notify_patch_destroyed</a>();
<a name="l00630"></a>00630 
<a name="l00634"></a>00634     <span class="keywordtype">void</span> enslave_higher_order_nodes( <span class="keyword">const</span> size_t* element_offset_array,
<a name="l00635"></a>00635                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* vertex_flags,
<a name="l00636"></a>00636                                      MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00637"></a>00637 
<a name="l00658"></a>00658     <span class="keywordtype">void</span> initialize_data( size_t* elem_offset_array, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* vertex_flags, MsqError&amp; err );
<a name="l00659"></a>00659     
<a name="l00673"></a>00673     <span class="keyword">static</span> <span class="keywordtype">void</span> make_handles_unique( <a class="code" href="classMesquite_1_1Mesh.html#78aabc6a4d2b1ae376d396a2de986de9">Mesh::EntityHandle</a>* handles,
<a name="l00674"></a>00674                                      size_t&amp; count,
<a name="l00675"></a>00675                                      size_t* index_map = 0 );
<a name="l00676"></a>00676     
<a name="l00677"></a>00677       <span class="comment">/*\brief Note that the passed info has been calculated and stored */</span>
<a name="l00678"></a>00678     <span class="keywordtype">void</span> note_have_info( <a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f65">ComputedInfo</a> info )
<a name="l00679"></a>00679       { haveComputedInfos |= (1&lt;&lt;info); }
<a name="l00680"></a>00680       
<a name="l00681"></a>00681       <span class="comment">/*\brief Update cached domain normal data */</span>
<a name="l00682"></a>00682     <span class="keywordtype">void</span> update_cached_normals( MsqError&amp; );
<a name="l00683"></a>00683 
<a name="l00684"></a>00684     Mesh* myMesh;              
<a name="l00685"></a>00685     MeshDomain* myDomain;      
<a name="l00686"></a>00686     
<a name="l00689"></a>00689     std::vector&lt;MsqVertex&gt; vertexArray;
<a name="l00692"></a>00692     std::vector&lt;Mesh::VertexHandle&gt; vertexHandlesArray;
<a name="l00698"></a>00698     size_t numFreeVertices;
<a name="l00703"></a>00703     size_t numSlaveVertices;
<a name="l00706"></a>00706     std::vector&lt;MsqMeshEntity&gt; elementArray;
<a name="l00709"></a>00709     std::vector&lt;Mesh::ElementHandle&gt; elementHandlesArray;
<a name="l00714"></a>00714     std::vector&lt;size_t&gt; elemConnectivityArray;
<a name="l00720"></a>00720     std::vector&lt;size_t&gt; vertAdjacencyArray;
<a name="l00725"></a>00725     std::vector&lt;size_t&gt; vertAdjacencyOffsets;
<a name="l00730"></a>00730     std::vector&lt;unsigned&gt; vertexNormalIndices;
<a name="l00733"></a>00733     std::vector&lt;Vector3D&gt; normalData;
<a name="l00738"></a>00738     std::vector&lt;unsigned short&gt; vertexDomainDOF;
<a name="l00739"></a>00739     
<a name="l00740"></a>00740       <span class="comment">// Arrays in which to store temporary data</span>
<a name="l00741"></a>00741       <span class="comment">// (avoids reallocation of temp space)</span>
<a name="l00742"></a>00742     std::vector&lt;size_t&gt; offsetArray;
<a name="l00743"></a>00743     std::vector&lt;unsigned char&gt; byteArray;
<a name="l00744"></a>00744     <span class="keyword">mutable</span> std::vector&lt;bool&gt; bitMap;
<a name="l00745"></a>00745     
<a name="l00746"></a>00746       <span class="comment">// Patch Computed Information (maxs, mins, etc ... )</span>
<a name="l00747"></a>00747     <span class="keywordtype">double</span> computedInfos[<a class="code" href="classMESQUITE__NS_1_1PatchData.html#feed3a5198385f108bb3737f5cf62f657f1ff0f13e6d0ace280aaf287a5c7797">MAX_COMPUTED_INFO_ENUM</a>];
<a name="l00748"></a>00748       <span class="comment">// Bit map indicating which values in PatchData::computedInfos</span>
<a name="l00749"></a>00749       <span class="comment">// are valud (which values have been calculated.)</span>
<a name="l00750"></a>00750     <span class="keywordtype">unsigned</span> haveComputedInfos;
<a name="l00751"></a>00751     
<a name="l00752"></a>00752     <a class="code" href="classMesquite_1_1ExtraData.html#3ddfe200dd902a87b00af23d18d421a2">ExtraData</a>* dataList;
<a name="l00753"></a>00753     
<a name="l00754"></a>00754     <span class="keyword">const</span> Settings* mSettings;
<a name="l00755"></a>00755     <span class="keyword">static</span> <span class="keyword">const</span> Settings defaultSettings;
<a name="l00756"></a>00756 
<a name="l00757"></a>00757   };
<a name="l00758"></a>00758   
<a name="l00759"></a>00759   <span class="keywordtype">void</span> <a class="code" href="namespaceMESQUITE__NS.html#a4ce3b52988e70be7dbc20b29d8559f1">print_patch_data</a>( <span class="keyword">const</span> <a class="code" href="classMesquite_1_1ExtraData.html#09c9f5b412d1b0b36b7e159aab89ced4">PatchData</a>&amp; pd );
<a name="l00760"></a>00760   
<a name="l00761"></a>00761   
<a name="l00768"></a><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">00768</a>   <span class="keyword">class </span><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>
<a name="l00769"></a>00769   {
<a name="l00770"></a>00770   <span class="keyword">public</span>:
<a name="l00771"></a><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#626562c7179ded78962691e61470af13">00771</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#626562c7179ded78962691e61470af13">clear</a>()
<a name="l00772"></a>00772     {
<a name="l00773"></a>00773       originator = 0;
<a name="l00774"></a>00774       vertices.clear();
<a name="l00775"></a>00775       normalData.clear();
<a name="l00776"></a>00776     }
<a name="l00777"></a>00777   <span class="keyword">private</span>:
<a name="l00778"></a>00778     <span class="comment">// Constructor accessible only to originator (i.e. PatchData)</span>
<a name="l00779"></a><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#09c9f5b412d1b0b36b7e159aab89ced4">00779</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>;
<a name="l00780"></a>00780     <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>() 
<a name="l00781"></a>00781       : originator(0)
<a name="l00782"></a>00782     {}
<a name="l00783"></a>00783     
<a name="l00784"></a>00784     <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>* originator; 
<a name="l00785"></a>00785     std::vector&lt;MsqVertex&gt; vertices;
<a name="l00786"></a>00786     std::vector&lt;Vector3D&gt; normalData;
<a name="l00787"></a>00787   };
<a name="l00788"></a>00788 
<a name="l00789"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#e64db5a11675b907c4c3ecccfdcdd976">00789</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#e64db5a11675b907c4c3ecccfdcdd976">PatchData::clear</a>()
<a name="l00790"></a>00790   {
<a name="l00791"></a>00791     vertexArray.clear();
<a name="l00792"></a>00792     vertexHandlesArray.clear();
<a name="l00793"></a>00793     elementArray.clear();
<a name="l00794"></a>00794     elementHandlesArray.clear();
<a name="l00795"></a>00795     elemConnectivityArray.clear();
<a name="l00796"></a>00796     vertAdjacencyArray.clear();
<a name="l00797"></a>00797     vertAdjacencyOffsets.clear();
<a name="l00798"></a>00798     vertexNormalIndices.clear();
<a name="l00799"></a>00799     normalData.clear();
<a name="l00800"></a>00800     <span class="comment">//vertexDomainDOF.clear();</span>
<a name="l00801"></a>00801     numFreeVertices = 0;
<a name="l00802"></a>00802     numSlaveVertices = 0;
<a name="l00803"></a>00803     haveComputedInfos = 0;
<a name="l00804"></a>00804     myMesh = 0;
<a name="l00805"></a>00805     myDomain = 0;
<a name="l00806"></a>00806   }
<a name="l00807"></a>00807   
<a name="l00810"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#75d2a6c82fbe09c0f8a22007ff1aef73">00810</a>   <span class="keyword">inline</span> <span class="keyword">const</span> MsqVertex* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ecaf66765bc0c9e5195a858c96414bb1">PatchData::get_vertex_array</a>(MsqError &amp;err)<span class="keyword"> const </span>
<a name="l00811"></a>00811 <span class="keyword">  </span>{
<a name="l00812"></a>00812     <span class="keywordflow">if</span> (vertexArray.empty()) 
<a name="l00813"></a>00813       <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)( <span class="stringliteral">"No vertex array defined"</span>, MsqError::INVALID_STATE );
<a name="l00814"></a>00814     <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(vertexArray);
<a name="l00815"></a>00815   }
<a name="l00816"></a>00816   
<a name="l00819"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#34833a5abf08c47d85e563c4b843628a">00819</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#34833a5abf08c47d85e563c4b843628a">PatchData::get_element_array</a>(MsqError &amp;err)<span class="keyword"> const</span>
<a name="l00820"></a>00820 <span class="keyword">  </span>{
<a name="l00821"></a>00821     <span class="keywordflow">if</span> (elementArray.empty()) 
<a name="l00822"></a>00822       <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)( <span class="stringliteral">"No element array defined"</span>, MsqError::INVALID_STATE );
<a name="l00823"></a>00823     <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(elementArray);
<a name="l00824"></a>00824   }
<a name="l00825"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#f6edd1cf199aebbe939e5d400b8cffaa">00825</a>   <span class="keyword">inline</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#34833a5abf08c47d85e563c4b843628a">PatchData::get_element_array</a>(MsqError &amp;err)
<a name="l00826"></a>00826   {
<a name="l00827"></a>00827     <span class="keywordflow">if</span> (elementArray.empty()) 
<a name="l00828"></a>00828       <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)( <span class="stringliteral">"No element array defined"</span>, MsqError::INVALID_STATE );
<a name="l00829"></a>00829     <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(elementArray);
<a name="l00830"></a>00830   }
<a name="l00831"></a>00831  
<a name="l00834"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#bbd1680c446e4b360b8f98930ac4e1a9">00834</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bbd1680c446e4b360b8f98930ac4e1a9">PatchData::set_vertex_coordinates</a>(<span class="keyword">const</span> Vector3D &amp;coords,
<a name="l00835"></a>00835                                                 size_t index,
<a name="l00836"></a>00836                                                 MsqError &amp;err) 
<a name="l00837"></a>00837   {
<a name="l00838"></a>00838     <span class="keywordflow">if</span> (index &gt;= vertexArray.size()) {
<a name="l00839"></a>00839       <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)( <span class="stringliteral">"Index bigger than numVertices."</span>, MsqError::INVALID_ARG );
<a name="l00840"></a>00840       <span class="keywordflow">return</span>;
<a name="l00841"></a>00841     }
<a name="l00842"></a>00842     
<a name="l00843"></a>00843     vertexArray[index] = coords;
<a name="l00844"></a>00844     
<a name="l00845"></a>00845     <span class="keywordflow">if</span> (numSlaveVertices) {
<a name="l00846"></a>00846       size_t num_elem;
<a name="l00847"></a>00847       <span class="keyword">const</span> size_t *indices;
<a name="l00848"></a>00848       indices = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#71e419a97245d6f121d61acac4eb1446">get_vertex_element_adjacencies</a>( index, num_elem, err ); <a class="code" href="group__error.html#g4e8d0b49f7fa27ef04bb387e9436a40a">MSQ_ERRRTN</a>(err);
<a name="l00849"></a>00849       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3a4bdeebed073fcb53006c6782f4d4f6">update_slave_node_coordinates</a>( indices, num_elem, err ); <a class="code" href="group__error.html#g4e8d0b49f7fa27ef04bb387e9436a40a">MSQ_ERRRTN</a>(err);
<a name="l00850"></a>00850     }
<a name="l00851"></a>00851   }
<a name="l00854"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#080d3f9d7b938cc14347bad0e5dd0c16">00854</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#080d3f9d7b938cc14347bad0e5dd0c16">PatchData::move_vertex</a>( <span class="keyword">const</span> Vector3D &amp;delta,
<a name="l00855"></a>00855                                       size_t index,
<a name="l00856"></a>00856                                       MsqError &amp;err) 
<a name="l00857"></a>00857   {
<a name="l00858"></a>00858     <span class="keywordflow">if</span> (index &gt;= vertexArray.size()) {
<a name="l00859"></a>00859       <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)( <span class="stringliteral">"Index bigger than numVertices."</span>, MsqError::INVALID_ARG );
<a name="l00860"></a>00860       <span class="keywordflow">return</span>;
<a name="l00861"></a>00861     }
<a name="l00862"></a>00862     
<a name="l00863"></a>00863     vertexArray[index] += delta;
<a name="l00864"></a>00864     
<a name="l00865"></a>00865     <span class="keywordflow">if</span> (numSlaveVertices) {
<a name="l00866"></a>00866       size_t num_elem;
<a name="l00867"></a>00867       <span class="keyword">const</span> size_t *indices;
<a name="l00868"></a>00868       indices = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#71e419a97245d6f121d61acac4eb1446">get_vertex_element_adjacencies</a>( index, num_elem, err ); <a class="code" href="group__error.html#g4e8d0b49f7fa27ef04bb387e9436a40a">MSQ_ERRRTN</a>(err);
<a name="l00869"></a>00869       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3a4bdeebed073fcb53006c6782f4d4f6">update_slave_node_coordinates</a>( indices, num_elem, err ); <a class="code" href="group__error.html#g4e8d0b49f7fa27ef04bb387e9436a40a">MSQ_ERRRTN</a>(err);
<a name="l00870"></a>00870     }
<a name="l00871"></a>00871   }
<a name="l00872"></a>00872   
<a name="l00873"></a>00873   <span class="comment">//inline MsqVertex&amp; PatchData::vertex_by_index(size_t index)</span>
<a name="l00874"></a>00874   <span class="comment">//{</span>
<a name="l00875"></a>00875   <span class="comment">//  return vertexArray[index];</span>
<a name="l00876"></a>00876   <span class="comment">//}</span>
<a name="l00877"></a>00877   
<a name="l00878"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#c4525a3ee525a2ba04f2993fd80497c2">00878</a>   <span class="keyword">inline</span> <span class="keyword">const</span> MsqVertex&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c4525a3ee525a2ba04f2993fd80497c2">PatchData::vertex_by_index</a>( size_t index )<span class="keyword"> const</span>
<a name="l00879"></a>00879 <span class="keyword">  </span>{ 
<a name="l00880"></a>00880     assert(index &lt; vertexArray.size());
<a name="l00881"></a>00881     <span class="keywordflow">return</span> vertexArray[index]; 
<a name="l00882"></a>00882   }
<a name="l00883"></a>00883   
<a name="l00884"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#265903e20c6da3b7c1c9453c0b74670a">00884</a>   <span class="keyword">inline</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#265903e20c6da3b7c1c9453c0b74670a">PatchData::element_by_index</a>(size_t index)
<a name="l00885"></a>00885   {
<a name="l00886"></a>00886      assert(index &lt; elementArray.size()); 
<a name="l00887"></a>00887      <span class="keywordflow">return</span> elementArray[index];
<a name="l00888"></a>00888   }
<a name="l00889"></a>00889   
<a name="l00890"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#9b755ce6e63276615a1abe1e940fbb0c">00890</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#265903e20c6da3b7c1c9453c0b74670a">PatchData::element_by_index</a>( size_t index )<span class="keyword"> const</span>
<a name="l00891"></a>00891 <span class="keyword">  </span>{ 
<a name="l00892"></a>00892      assert(index &lt; elementArray.size()); 
<a name="l00893"></a>00893      <span class="keywordflow">return</span> elementArray[index];
<a name="l00894"></a>00894   }
<a name="l00895"></a>00895   
<a name="l00898"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#653592a7a3567d4595c80d0606427bd6">00898</a>   <span class="keyword">inline</span> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#653592a7a3567d4595c80d0606427bd6">PatchData::get_vertex_index</a>(MsqVertex* vertex)
<a name="l00899"></a>00899   {
<a name="l00900"></a>00900     <span class="keywordflow">return</span> vertex - <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(vertexArray);
<a name="l00901"></a>00901   }
<a name="l00902"></a>00902   
<a name="l00903"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#2ae43e6777f51382f7854bb9a6b82cd1">00903</a>   <span class="keyword">inline</span> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2ae43e6777f51382f7854bb9a6b82cd1">PatchData::get_element_index</a>(<a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* element)
<a name="l00904"></a>00904   {
<a name="l00905"></a>00905     <span class="keywordflow">return</span> element - <a class="code" href="namespaceMesquite.html#a2e453a86e6e946b24518e932c18cc16">arrptr</a>(elementArray);
<a name="l00906"></a>00906   }
<a name="l00907"></a>00907 
<a name="l00908"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#cceab6ef2e13e5665d461a915fd4fc04">00908</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#cceab6ef2e13e5665d461a915fd4fc04">PatchData::get_free_vertex_coordinates</a>( std::vector&lt;Vector3D&gt;&amp; coords_out )<span class="keyword"> const</span>
<a name="l00909"></a>00909 <span class="keyword">  </span>{
<a name="l00910"></a>00910     coords_out.resize( <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5ad48f9115c41fb76828cbe7c998aa9f">num_free_vertices</a>() );
<a name="l00911"></a>00911     std::copy( vertexArray.begin(), vertexArray.begin()+<a class="code" href="classMESQUITE__NS_1_1PatchData.html#5ad48f9115c41fb76828cbe7c998aa9f">num_free_vertices</a>(), 
<a name="l00912"></a>00912                    coords_out.begin() );
<a name="l00913"></a>00913   }
<a name="l00914"></a>00914     
<a name="l00915"></a>00915 
<a name="l00916"></a>00916   
<a name="l00925"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#3c3b05585075b199b25bf8d0be5f731e">00925</a>   <span class="keyword">inline</span> <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3c3b05585075b199b25bf8d0be5f731e">PatchData::create_vertices_memento</a>(MsqError&amp; err)
<a name="l00926"></a>00926   {
<a name="l00927"></a>00927     <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento = <span class="keyword">new</span> <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>;
<a name="l00928"></a>00928     <a class="code" href="classMESQUITE__NS_1_1PatchData.html#567405ba14310d5755c8135a48af7d96">recreate_vertices_memento</a>( memento, err );
<a name="l00929"></a>00929     <span class="keywordflow">if</span> (<a class="code" href="group__error.html#g061c906bdd923d3ed2243d78c0a05d53">MSQ_CHKERR</a>(err)) {
<a name="l00930"></a>00930       <span class="keyword">delete</span> memento;
<a name="l00931"></a>00931       <span class="keywordflow">return</span> 0;
<a name="l00932"></a>00932     }
<a name="l00933"></a>00933     <span class="keywordflow">return</span> memento;
<a name="l00934"></a>00934   }
<a name="l00935"></a>00935   
<a name="l00944"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#567405ba14310d5755c8135a48af7d96">00944</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#567405ba14310d5755c8135a48af7d96">PatchData::recreate_vertices_memento</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento, 
<a name="l00945"></a>00945                                                    MsqError&amp; <span class="comment">/*err*/</span>)
<a name="l00946"></a>00946   {
<a name="l00947"></a>00947     memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#0fb6717b48ab6f1b78559614d2eceeb5">originator</a> = <span class="keyword">this</span>;
<a name="l00948"></a>00948     
<a name="l00949"></a>00949     size_t num_vtx = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5ad48f9115c41fb76828cbe7c998aa9f">num_free_vertices</a>() + <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2b418452cbe5cde6efea8525387d1df3">num_slave_vertices</a>();
<a name="l00950"></a>00950     
<a name="l00951"></a>00951     memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#6e048ba47fb505c99d5220fe581e7b81">vertices</a>.resize( num_vtx );
<a name="l00952"></a>00952     std::copy( vertexArray.begin(), vertexArray.begin()+num_vtx, memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#6e048ba47fb505c99d5220fe581e7b81">vertices</a>.begin() );
<a name="l00953"></a>00953     
<a name="l00954"></a>00954     <span class="keywordtype">int</span> num_normal;
<a name="l00955"></a>00955     <span class="keywordflow">if</span> (normalData.empty())
<a name="l00956"></a>00956       num_normal = 0;
<a name="l00957"></a>00957     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vertexNormalIndices.empty()) 
<a name="l00958"></a>00958       num_normal = num_vtx;
<a name="l00959"></a>00959     <span class="keywordflow">else</span> {
<a name="l00960"></a>00960       num_normal = num_vtx;
<a name="l00961"></a>00961       <span class="keywordflow">while</span> (num_normal != 0 &amp;&amp; vertexNormalIndices[--num_normal] &gt;= normalData.size());
<a name="l00962"></a>00962       <span class="keywordflow">if</span> (num_normal == 0) {
<a name="l00963"></a>00963         <span class="keywordflow">if</span> (vertexNormalIndices[0] &lt; normalData.size())
<a name="l00964"></a>00964           num_normal = vertexNormalIndices[0] + 1;
<a name="l00965"></a>00965       }
<a name="l00966"></a>00966       <span class="keywordflow">else</span> 
<a name="l00967"></a>00967         num_normal = vertexNormalIndices[num_normal] + 1;
<a name="l00968"></a>00968     }
<a name="l00969"></a>00969     
<a name="l00970"></a>00970     memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#521886ca3243aa8e80212d83fadeef13">normalData</a>.resize( num_normal );
<a name="l00971"></a>00971     std::copy( normalData.begin(), normalData.begin()+num_normal, memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#521886ca3243aa8e80212d83fadeef13">normalData</a>.begin() );
<a name="l00972"></a>00972   }
<a name="l00973"></a>00973   
<a name="l00981"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#a542172ed6035c64bac38b9e474990ae">00981</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a542172ed6035c64bac38b9e474990ae">PatchData::set_to_vertices_memento</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento,
<a name="l00982"></a>00982                                                  MsqError &amp;err)
<a name="l00983"></a>00983   {
<a name="l00984"></a>00984     <span class="keywordflow">if</span> (memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#0fb6717b48ab6f1b78559614d2eceeb5">originator</a> != <span class="keyword">this</span>)
<a name="l00985"></a>00985     {
<a name="l00986"></a>00986       <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)(<span class="stringliteral">"Memento may only be used to restore the PatchData "</span>
<a name="l00987"></a>00987                       <span class="stringliteral">"object from which it was created."</span>,
<a name="l00988"></a>00988                       MsqError::INVALID_ARG);
<a name="l00989"></a>00989       <span class="keywordflow">return</span>;
<a name="l00990"></a>00990     }
<a name="l00991"></a>00991     
<a name="l00992"></a>00992     <span class="keywordflow">if</span> (memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#6e048ba47fb505c99d5220fe581e7b81">vertices</a>.size() != <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5ad48f9115c41fb76828cbe7c998aa9f">num_free_vertices</a>()+<a class="code" href="classMESQUITE__NS_1_1PatchData.html#2b418452cbe5cde6efea8525387d1df3">num_slave_vertices</a>())
<a name="l00993"></a>00993     {
<a name="l00994"></a>00994       <a class="code" href="group__error.html#g2a2fbc6c2b94ad06a287ec11ea469868">MSQ_SETERR</a>(err)(<span class="stringliteral">"Unable to restore patch coordinates.  Number of "</span>
<a name="l00995"></a>00995                       <span class="stringliteral">"vertices in PatchData has changed."</span>,
<a name="l00996"></a>00996                       MsqError::INVALID_STATE);
<a name="l00997"></a>00997       <span class="keywordflow">return</span>;
<a name="l00998"></a>00998     }
<a name="l00999"></a>00999     
<a name="l01000"></a>01000       <span class="comment">// copies the memento array into the PatchData array.</span>
<a name="l01001"></a>01001     std::copy( memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#6e048ba47fb505c99d5220fe581e7b81">vertices</a>.begin(), memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#6e048ba47fb505c99d5220fe581e7b81">vertices</a>.end(), vertexArray.begin() );
<a name="l01002"></a>01002     std::copy( memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#521886ca3243aa8e80212d83fadeef13">normalData</a>.begin(), memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#521886ca3243aa8e80212d83fadeef13">normalData</a>.end(), normalData.begin() );
<a name="l01003"></a>01003   }
<a name="l01004"></a>01004       
<a name="l01005"></a>01005 } <span class="comment">// namespace</span>
<a name="l01006"></a>01006 
<a name="l01007"></a>01007 
<a name="l01008"></a>01008 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on 14 Aug 2013 for MESQUITE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
