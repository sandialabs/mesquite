<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MESQUITE: PatchData.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>PatchData.hpp</h1><a href="PatchData_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ***************************************************************** </span>
<a name="l00002"></a>00002 <span class="comment">    MESQUITE -- The Mesh Quality Improvement Toolkit</span>
<a name="l00003"></a>00003 <span class="comment"></span>
<a name="l00004"></a>00004 <span class="comment">    Copyright 2004 Sandia Corporation and Argonne National</span>
<a name="l00005"></a>00005 <span class="comment">    Laboratory.  Under the terms of Contract DE-AC04-94AL85000 </span>
<a name="l00006"></a>00006 <span class="comment">    with Sandia Corporation, the U.S. Government retains certain </span>
<a name="l00007"></a>00007 <span class="comment">    rights in this software.</span>
<a name="l00008"></a>00008 <span class="comment"></span>
<a name="l00009"></a>00009 <span class="comment">    This library is free software; you can redistribute it and/or</span>
<a name="l00010"></a>00010 <span class="comment">    modify it under the terms of the GNU Lesser General Public</span>
<a name="l00011"></a>00011 <span class="comment">    License as published by the Free Software Foundation; either</span>
<a name="l00012"></a>00012 <span class="comment">    version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">    This library is distributed in the hope that it will be useful,</span>
<a name="l00015"></a>00015 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00016"></a>00016 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00017"></a>00017 <span class="comment">    Lesser General Public License for more details.</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">    You should have received a copy of the GNU Lesser General Public License </span>
<a name="l00020"></a>00020 <span class="comment">    (lgpl.txt) along with this library; if not, write to the Free Software</span>
<a name="l00021"></a>00021 <span class="comment">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00022"></a>00022 <span class="comment"> </span>
<a name="l00023"></a>00023 <span class="comment">    diachin2@llnl.gov, djmelan@sandia.gov, mbrewer@sandia.gov, </span>
<a name="l00024"></a>00024 <span class="comment">    pknupp@sandia.gov, tleurent@mcs.anl.gov, tmunson@mcs.anl.gov      </span>
<a name="l00025"></a>00025 <span class="comment">   </span>
<a name="l00026"></a>00026 <span class="comment">  ***************************************************************** */</span>
<a name="l00027"></a>00027 <span class="preprocessor">#ifndef MESQUITE_PATCHDATA_HPP</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#define MESQUITE_PATCHDATA_HPP</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="preprocessor">#include "<a class="code" href="Mesquite_8hpp.html">Mesquite.hpp</a>"</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include "<a class="code" href="MsqVertex_8hpp.html">MsqVertex.hpp</a>"</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include "<a class="code" href="MsqMeshEntity_8hpp.html">MsqMeshEntity.hpp</a>"</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include "<a class="code" href="MsqVertex_8hpp.html">MsqVertex.hpp</a>"</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include "<a class="code" href="MeshInterface_8hpp.html">MeshInterface.hpp</a>"</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include "<a class="code" href="MsqError_8hpp.html">MsqError.hpp</a>"</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include "<a class="code" href="Settings_8hpp.html">Settings.hpp</a>"</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include "<a class="code" href="NodeSet_8hpp.html">NodeSet.hpp</a>"</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include "<a class="code" href="MappingFunction_8hpp.html">MappingFunction.hpp</a>"</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;cstddef&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &lt;iosfwd&gt;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="keyword">namespace </span><a class="code" href="mesquite__version_8h.html#7afaa56f6d67fe375b7d2b89b82a8313">MESQUITE_NS</a>
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061   <span class="keyword">class </span>ExtraData;
<a name="l00062"></a>00062   <span class="keyword">class </span>PatchDataVerticesMemento;
<a name="l00063"></a>00063   <span class="keyword">class </span>Mesh;
<a name="l00064"></a>00064   <span class="keyword">class </span>Settings;
<a name="l00065"></a>00065   
<a name="l00070"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html">00070</a>   <span class="keyword">class </span><a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> 
<a name="l00071"></a>00071   {
<a name="l00072"></a>00072   <span class="keyword">public</span>:    
<a name="l00073"></a>00073       <span class="comment">// Constructor/Destructor</span>
<a name="l00074"></a>00074     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2f111fe81b05433f0efd4d09a140c890">PatchData</a>();
<a name="l00075"></a>00075     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#62494f9087dc2bc0109f43697777bc00">~PatchData</a>();
<a name="l00076"></a>00076     
<a name="l00077"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#e1a8540f33452890358fcefc164ba8a1">00077</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#e1a8540f33452890358fcefc164ba8a1">attach_settings</a>( <span class="keyword">const</span> Settings* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3f6de5f7d919f305ded49829d4b4ef51">settings</a> )
<a name="l00078"></a>00078       { mSettings = settings; }
<a name="l00079"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#3f6de5f7d919f305ded49829d4b4ef51">00079</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keyword">const</span> Settings* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3f6de5f7d919f305ded49829d4b4ef51">settings</a>()<span class="keyword"> const</span>
<a name="l00080"></a>00080 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings; }
<a name="l00081"></a>00081     
<a name="l00096"></a>00096         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00097"></a>00097     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#09268218394d019e75ff51f6d831b414">fill</a>( size_t num_vertex, <span class="keyword">const</span> <span class="keywordtype">double</span>* vtx_coords,
<a name="l00098"></a>00098                size_t num_elem, <a class="code" href="namespaceMesquite.html#62db9e8a37d0fb86f47523b9bdbac930">EntityTopology</a> type, 
<a name="l00099"></a>00099                <span class="keyword">const</span> size_t* connectivity,
<a name="l00100"></a>00100                <span class="keyword">const</span> <span class="keywordtype">bool</span>* vertex_fixed_flags,
<a name="l00101"></a>00101                MsqError&amp; err );
<a name="l00102"></a>00102     
<a name="l00116"></a>00116         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00117"></a>00117     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#09268218394d019e75ff51f6d831b414">fill</a>( size_t num_vertex, <span class="keyword">const</span> <span class="keywordtype">double</span>* vtx_coords,
<a name="l00118"></a>00118                size_t num_elem, <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#62db9e8a37d0fb86f47523b9bdbac930">EntityTopology</a>* elem_types,
<a name="l00119"></a>00119                <span class="keyword">const</span> size_t* connectivity,
<a name="l00120"></a>00120                <span class="keyword">const</span> <span class="keywordtype">bool</span>* vertex_fixed_flags,
<a name="l00121"></a>00121                MsqError&amp; err );
<a name="l00122"></a>00122     
<a name="l00138"></a>00138         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00139"></a>00139     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#09268218394d019e75ff51f6d831b414">fill</a>( size_t num_vertex, <span class="keyword">const</span> <span class="keywordtype">double</span>* vtx_coords,
<a name="l00140"></a>00140                size_t num_elem, <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#62db9e8a37d0fb86f47523b9bdbac930">EntityTopology</a>* elem_types,
<a name="l00141"></a>00141                <span class="keyword">const</span> size_t* vertex_per_elem,
<a name="l00142"></a>00142                <span class="keyword">const</span> size_t* elem_connectivity,
<a name="l00143"></a>00143                <span class="keyword">const</span> <span class="keywordtype">bool</span>* vertex_fixed_flags,
<a name="l00144"></a>00144                MsqError&amp; err );
<a name="l00145"></a>00145                
<a name="l00150"></a>00150         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00151"></a>00151     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d4c66bc1961aef23949153a61e6b4229">fill_global_patch</a>( MsqError&amp; err );
<a name="l00152"></a>00152     
<a name="l00153"></a>00153     
<a name="l00154"></a>00154         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00155"></a>00155    <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ab772bdb0e65d9955d2ed26a8f13bd05">set_mesh_entities</a>( 
<a name="l00156"></a>00156                    std::vector&lt;Mesh::ElementHandle&gt;&amp; patch_elems,
<a name="l00157"></a>00157                    std::vector&lt;Mesh::VertexHandle&gt;&amp; free_vertices,
<a name="l00158"></a>00158                    MsqError&amp; err );
<a name="l00159"></a>00159     
<a name="l00160"></a>00160   <span class="keyword">private</span>:
<a name="l00163"></a>00163     <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2f111fe81b05433f0efd4d09a140c890">PatchData</a>(<span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> &amp;pd);
<a name="l00166"></a>00166     <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> &amp;pd);
<a name="l00167"></a>00167     
<a name="l00168"></a>00168   <span class="keyword">public</span>:
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2">00170</a>     <span class="keyword">enum</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2">ComputedInfo</a> {
<a name="l00171"></a>00171       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2b898322056f60e102ba95e26f6a6b5c6">MIN_UNSIGNED_AREA</a> = 0, 
<a name="l00172"></a>00172       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2b618578cfaceb525f5b38e8beab41c2c">MAX_UNSIGNED_AREA</a>, 
<a name="l00173"></a>00173       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2bc8414b58f973f371fe45f1e6e9aa0d6">MIN_EDGE_LENGTH</a>, 
<a name="l00174"></a>00174       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec27ca9f82f3b090d9844aee294f3c47bec">MAX_EDGE_LENGTH</a>, 
<a name="l00175"></a>00175       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec219ada4f48a5f48fa6d1e13540f517b59">MINMAX_SIGNED_DET2D</a>, 
<a name="l00176"></a>00176       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2ea5d704f3464c431ad74f44a864d85a2">MINMAX_SIGNED_DET3D</a>, 
<a name="l00177"></a>00177       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2bedc76b74cdbc01c8d71b4fad1f957ba">AVERAGE_DET3D</a>, 
<a name="l00178"></a>00178       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2ce43432ee7f84cc2be3cff99c92a8d4a">MAX_COMPUTED_INFO_ENUM</a>
<a name="l00179"></a>00179     };
<a name="l00180"></a>00180 
<a name="l00182"></a>00182         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00183"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#0f0dcfa3f55a8d4b09f052cf9a10797f">00183</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0f0dcfa3f55a8d4b09f052cf9a10797f">clear_computed_info</a>() { haveComputedInfos = 0; }
<a name="l00184"></a>00184     
<a name="l00185"></a>00185         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00186"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#2da16e94360db6c52ee6c48d73964826">00186</a>     <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2da16e94360db6c52ee6c48d73964826">have_computed_info</a>( <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2">ComputedInfo</a> info )<span class="keyword"> const</span>
<a name="l00187"></a>00187 <span class="keyword">      </span>{ <span class="keywordflow">return</span> 0 != (haveComputedInfos&amp;(1&lt;&lt;info)); }
<a name="l00188"></a>00188     
<a name="l00192"></a>00192         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00193"></a>00193     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#49ca7b555d2c12f149448a2347e1b335">get_minmax_element_unsigned_area</a>(<span class="keywordtype">double</span>&amp; min, <span class="keywordtype">double</span>&amp; max, MsqError &amp;err);
<a name="l00194"></a>00194     
<a name="l00195"></a>00195         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00196"></a>00196     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5542effbbe355b2d5f68ce627b2de7e2">get_minmax_edge_length</a>(<span class="keywordtype">double</span>&amp; min, <span class="keywordtype">double</span>&amp; max) <span class="keyword">const</span>;
<a name="l00197"></a>00197 
<a name="l00201"></a>00201 <span class="comment">//    double get_average_Lambda_3d(MsqError &amp;err); </span>
<a name="l00202"></a>00202 
<a name="l00204"></a>00204         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00205"></a>00205    <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0b754c7883288a9612fb074d756905fe">clear</a>();
<a name="l00207"></a>00207         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00208"></a>00208    <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f632318eb0982325096e6cff15de1cf7">reorder</a>();
<a name="l00209"></a>00209 
<a name="l00211"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#5c3b0de13db654cd269237d97748b09e">00211</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5c3b0de13db654cd269237d97748b09e">num_nodes</a>()<span class="keyword"> const</span>
<a name="l00212"></a>00212 <span class="keyword">      </span>{ <span class="keywordflow">return</span> vertexArray.size();}
<a name="l00213"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0dff391b58580a4b8f5e5f9228dfe7">00213</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0dff391b58580a4b8f5e5f9228dfe7">num_free_vertices</a>()<span class="keyword"> const</span>
<a name="l00214"></a>00214 <span class="keyword">      </span>{ <span class="keywordflow">return</span> numFreeVertices; }
<a name="l00215"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ac90f90482987ddf3987e493429d9e5d">00215</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ac90f90482987ddf3987e493429d9e5d">num_slave_vertices</a>()<span class="keyword"> const</span>
<a name="l00216"></a>00216 <span class="keyword">      </span>{ <span class="keywordflow">return</span> numSlaveVertices; }
<a name="l00217"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#d6bc816ccdd6abc1127bd15a99804931">00217</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#d6bc816ccdd6abc1127bd15a99804931">num_fixed_vertices</a>()<span class="keyword"> const</span>
<a name="l00218"></a>00218 <span class="keyword">      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5c3b0de13db654cd269237d97748b09e">num_nodes</a>() - <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0dff391b58580a4b8f5e5f9228dfe7">num_free_vertices</a>() - <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ac90f90482987ddf3987e493429d9e5d">num_slave_vertices</a>(); }
<a name="l00220"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#560c399632db230339fd920c0ee75d11">00220</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#560c399632db230339fd920c0ee75d11">num_elements</a>()<span class="keyword"> const</span>
<a name="l00221"></a>00221 <span class="keyword">      </span>{ <span class="keywordflow">return</span> elementArray.size(); }
<a name="l00222"></a>00222     
<a name="l00223"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#70d7dd3f85b68b2367fb52b5597c0f8a">00223</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#70d7dd3f85b68b2367fb52b5597c0f8a">is_vertex_free</a>(size_t index)<span class="keyword"> const</span>
<a name="l00224"></a>00224 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &lt; numFreeVertices; }
<a name="l00225"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#3ae426b9d05135c7e9f94270b12bd132">00225</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3ae426b9d05135c7e9f94270b12bd132">is_vertex_not_free</a>( size_t index )<span class="keyword"> const</span>
<a name="l00226"></a>00226 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &gt;= numFreeVertices; }
<a name="l00227"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#5903667e91f6b1d5e966bfa2bb8cbc83">00227</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5903667e91f6b1d5e966bfa2bb8cbc83">is_vertex_slave</a>(size_t index)<span class="keyword"> const</span>
<a name="l00228"></a>00228 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &gt;= numFreeVertices &amp;&amp; (index - numFreeVertices) &lt; numSlaveVertices; }
<a name="l00229"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#313f2b467a0ae3b13851dac27be999be">00229</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#313f2b467a0ae3b13851dac27be999be">is_vertex_fixed</a>(size_t index)<span class="keyword"> const</span>
<a name="l00230"></a>00230 <span class="keyword">      </span>{ <span class="keywordflow">return</span> index &gt;= numFreeVertices + numSlaveVertices; }
<a name="l00231"></a>00231     
<a name="l00233"></a>00233     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#1d73eaa94272a694149142a2f1d7565d">num_corners</a>() <span class="keyword">const</span>;
<a name="l00234"></a>00234     
<a name="l00236"></a>00236     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keyword">const</span> MsqVertex* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#cd97afe75f39aee9bd922ad8cc67f807">get_vertex_array</a>( MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00237"></a>00237     <span class="comment">//MsqVertex* get_vertex_array(MsqError &amp;err);</span>
<a name="l00238"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#cd97afe75f39aee9bd922ad8cc67f807">00238</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keyword">const</span> MsqVertex* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#cd97afe75f39aee9bd922ad8cc67f807">get_vertex_array</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(vertexArray); }
<a name="l00239"></a>00239     <span class="comment">//MsqVertex* get_vertex_array()             { return arrptr(vertexArray); }</span>
<a name="l00240"></a>00240     
<a name="l00242"></a>00242     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5bc2ea95682a300c1bea2f8e372cd10c">get_element_array</a>( MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00243"></a>00243     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5bc2ea95682a300c1bea2f8e372cd10c">get_element_array</a>(MsqError &amp;err);
<a name="l00244"></a>00244     
<a name="l00245"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#0951b1b07e3e9ce5860f77c11b2ef6f8">00245</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0951b1b07e3e9ce5860f77c11b2ef6f8">get_connectivity_array</a>( )
<a name="l00246"></a>00246       { <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(elemConnectivityArray); }
<a name="l00247"></a>00247       
<a name="l00248"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#6cf3a4dd403c5b00844b683de5060179">00248</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> Mesh::ElementHandle* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6cf3a4dd403c5b00844b683de5060179">get_element_handles_array</a>( )
<a name="l00249"></a>00249       { <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(elementHandlesArray); }
<a name="l00250"></a>00250     
<a name="l00251"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#6012fc6cda153f46f31d4331f136e3ae">00251</a>     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> Mesh::VertexHandle* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6012fc6cda153f46f31d4331f136e3ae">get_vertex_handles_array</a>()
<a name="l00252"></a>00252       { <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(vertexHandlesArray); }
<a name="l00253"></a>00253     
<a name="l00258"></a>00258     <span class="comment">//const size_t* get_vertex_to_elem_array(MsqError &amp;err);</span>
<a name="l00266"></a>00266 <span class="comment"></span>    <span class="comment">//const size_t* get_vertex_to_elem_offset(MsqError &amp;err);</span>
<a name="l00267"></a>00267     
<a name="l00268"></a>00268     <span class="comment">//MsqVertex&amp; vertex_by_index(size_t index);</span>
<a name="l00269"></a>00269     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keyword">const</span> MsqVertex&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a186f2a4eff4e0b39061b517fbd1a0e3">vertex_by_index</a>(size_t index) <span class="keyword">const</span>;
<a name="l00270"></a>00270     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6e88206d75de517bb3c52655f0568ad9">element_by_index</a>(size_t index);
<a name="l00271"></a>00271     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6e88206d75de517bb3c52655f0568ad9">element_by_index</a>(size_t index) <span class="keyword">const</span>;
<a name="l00272"></a>00272     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0dec8d04ae6aa24cde7ad87ec87e786c">get_vertex_index</a>(MsqVertex* vertex);
<a name="l00273"></a>00273     <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#8bb6f81511c22513f1d0fffdc08a514c">get_element_index</a>(<a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* element);
<a name="l00274"></a>00274     
<a name="l00276"></a>00276         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00277"></a>00277     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#1ad970d81cd5c572828ecfa46f1a2f15">get_element_vertex_coordinates</a>(size_t elem_index,
<a name="l00278"></a>00278                                         std::vector&lt;Vector3D&gt; &amp;coords,
<a name="l00279"></a>00279                                         MsqError &amp;err);
<a name="l00281"></a>00281         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00282"></a>00282     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2ae9b234368dfb411bb2d573c907cec2">get_element_vertex_indices</a>(size_t elem_index,
<a name="l00283"></a>00283                                     std::vector&lt;size_t&gt; &amp;vertex_indices,
<a name="l00284"></a>00284                                     MsqError &amp;err);
<a name="l00286"></a>00286         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00287"></a>00287     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#526cacfe53ca7c5cfca2a0652db4dc4d">get_vertex_element_indices</a>(size_t vertex_index,
<a name="l00288"></a>00288                                     std::vector&lt;size_t&gt; &amp;elem_indices,
<a name="l00289"></a>00289                                     MsqError &amp;err);
<a name="l00290"></a>00290     
<a name="l00293"></a>00293         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00294"></a>00294     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#526cacfe53ca7c5cfca2a0652db4dc4d">get_vertex_element_indices</a>( size_t vertex_index,
<a name="l00295"></a>00295                                      <span class="keywordtype">unsigned</span> element_dimension,
<a name="l00296"></a>00296                                      std::vector&lt;size_t&gt;&amp; elem_indices,
<a name="l00297"></a>00297                                      MsqError&amp; err );
<a name="l00298"></a>00298     
<a name="l00300"></a>00300         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00301"></a>00301     <span class="keyword">const</span> size_t* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#642a41b45a6fa86df2eab41aa05a65b1">get_vertex_element_adjacencies</a>( size_t vertex_index,
<a name="l00302"></a>00302                                                   size_t&amp; array_len_out,
<a name="l00303"></a>00303                                                   MsqError&amp; err );
<a name="l00304"></a>00304     
<a name="l00308"></a>00308         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00309"></a>00309     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#8d58af9078d4345fb087f10160845354">get_adjacent_vertex_indices</a>(size_t vertex_index,
<a name="l00310"></a>00310                                      std::vector&lt;size_t&gt; &amp;vert_indices,
<a name="l00311"></a>00311                                      MsqError &amp;err) <span class="keyword">const</span>;
<a name="l00312"></a>00312     
<a name="l00313"></a>00313     
<a name="l00320"></a>00320         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00321"></a>00321     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#2f7bf793fd6808f546d457ea92bcf13e">get_adjacent_entities_via_n_dim</a>(<span class="keywordtype">int</span> n, size_t ent_ind,
<a name="l00322"></a>00322                                          std::vector&lt;size_t&gt; &amp;adj_ents,
<a name="l00323"></a>00323                                          MsqError &amp;err);
<a name="l00324"></a>00324     
<a name="l00329"></a>00329         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00330"></a>00330     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#22d8412a81fb8a07ba4ba4c4c06d82e2">generate_vertex_to_element_data</a>();
<a name="l00331"></a>00331 
<a name="l00332"></a>00332         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00333"></a>00333     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f2dbb4b63e7edfcee048713adadd7e74">set_vertex_coordinates</a>(<span class="keyword">const</span> Vector3D &amp;coords,
<a name="l00334"></a>00334                                 size_t index,
<a name="l00335"></a>00335                                 MsqError &amp;err);
<a name="l00336"></a>00336 
<a name="l00337"></a>00337         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00338"></a>00338     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bcd1b4983b0032f5e50669ec97d51a08">move_vertex</a>( <span class="keyword">const</span> Vector3D &amp;delta, size_t index, MsqError &amp;err);
<a name="l00339"></a>00339 
<a name="l00344"></a>00344         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00345"></a>00345     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5f3560733bf580f4ec0c39bdd6f07ae9">snap_vertex_to_domain</a>(size_t vertex_index, MsqError &amp;err);
<a name="l00346"></a>00346 
<a name="l00350"></a>00350         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00351"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#e56152f9a6f9e286f85b8b50d86c137b">00351</a>     <span class="keywordtype">bool</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#e56152f9a6f9e286f85b8b50d86c137b">domain_set</a>()<span class="keyword"> const</span>
<a name="l00352"></a>00352 <span class="keyword">    </span>{ <span class="keywordflow">return</span> 0 != myDomain; }
<a name="l00353"></a>00353     
<a name="l00354"></a>00354       <span class="comment">/*\brief Get domain normal at vertex location</span>
<a name="l00355"></a>00355 <span class="comment">       *</span>
<a name="l00356"></a>00356 <span class="comment">       * Get the normal of the domain associated with the passed</span>
<a name="l00357"></a>00357 <span class="comment">       * element handle at the location of the specified vertex.</span>
<a name="l00358"></a>00358 <span class="comment">       *\param vert_index  The index of the vertex in this PatchData</span>
<a name="l00359"></a>00359 <span class="comment">       *\param elem_handle The handle of the element passed to the domain </span>
<a name="l00360"></a>00360 <span class="comment">       *\param normal_out  The resulting domain normal</span>
<a name="l00361"></a>00361 <span class="comment">       *\param err         Error flag.  Possible error conditions include:</span>
<a name="l00362"></a>00362 <span class="comment">       *                   invalid input data, no domain associated with</span>
<a name="l00363"></a>00363 <span class="comment">       *                   element, no domain at all, etc.</span>
<a name="l00364"></a>00364 <span class="comment">       */</span>
<a name="l00365"></a>00365         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00366"></a>00366     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5077c68e4cdf79487e6fa6a25ed155d7">get_domain_normal_at_vertex</a>( size_t vert_index,
<a name="l00367"></a>00367                                       Mesh::ElementHandle element,
<a name="l00368"></a>00368                                       Vector3D&amp; normal_out,
<a name="l00369"></a>00369                                       MsqError&amp; err );
<a name="l00370"></a>00370     
<a name="l00378"></a>00378         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00379"></a>00379     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5b8159d9f92713464c7e5fd129c8f960">get_domain_normal_at_element</a>(size_t elem_index, 
<a name="l00380"></a>00380                                       Vector3D &amp;surf_norm,
<a name="l00381"></a>00381                                       MsqError &amp;err);
<a name="l00382"></a>00382     
<a name="l00387"></a>00387         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00388"></a>00388     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aba018e1d5ca2b91fa3d86e090780169">get_domain_normals_at_corners</a>( size_t element_index,
<a name="l00389"></a>00389                                         Vector3D normals_out[],
<a name="l00390"></a>00390                                         MsqError&amp; err ) ;
<a name="l00391"></a>00391                                         
<a name="l00392"></a>00392         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00393"></a>00393     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#20cde7f22caaecf55b4dfdf60c6dcc89">get_domain_normal_at_corner</a>( size_t elemen_index,
<a name="l00394"></a>00394                                       <span class="keywordtype">unsigned</span> corner,
<a name="l00395"></a>00395                                       Vector3D&amp; normal,
<a name="l00396"></a>00396                                       MsqError&amp; err );
<a name="l00397"></a>00397     
<a name="l00398"></a>00398         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00399"></a>00399     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bf6b4f745ad1ec95be926f6fd11c07bd">get_domain_normal_at_mid_edge</a>( size_t element_index,
<a name="l00400"></a>00400                                         <span class="keywordtype">unsigned</span> edge_number,
<a name="l00401"></a>00401                                         Vector3D&amp; normal,
<a name="l00402"></a>00402                                         MsqError&amp; err );
<a name="l00403"></a>00403 
<a name="l00405"></a>00405         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00406"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#5f201588e6a0473375827b7166eeb443">00406</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5b8159d9f92713464c7e5fd129c8f960">get_domain_normal_at_element</a>(<span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* elem_ptr,
<a name="l00407"></a>00407                                       Vector3D &amp;surf_norm, MsqError &amp;err)  
<a name="l00408"></a>00408     { <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5b8159d9f92713464c7e5fd129c8f960">get_domain_normal_at_element</a>(size_t(elem_ptr-&amp;(elementArray[0])), surf_norm, err); }
<a name="l00409"></a>00409     
<a name="l00410"></a>00410         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00411"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#c928391fa882e67e3cd2767d481e3fd1">00411</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c928391fa882e67e3cd2767d481e3fd1">get_domain_normal_at_sample</a>( size_t element_index,
<a name="l00412"></a>00412                                       Sample location,
<a name="l00413"></a>00413                                       Vector3D &amp;surf_norm, MsqError &amp;err)  
<a name="l00414"></a>00414     {
<a name="l00415"></a>00415       <span class="keywordflow">switch</span>(location.dimension) {
<a name="l00416"></a>00416         <span class="keywordflow">case</span> 0:
<a name="l00417"></a>00417           <a class="code" href="classMESQUITE__NS_1_1PatchData.html#20cde7f22caaecf55b4dfdf60c6dcc89">get_domain_normal_at_corner</a>( element_index, location.number, surf_norm, err );
<a name="l00418"></a>00418           <span class="keywordflow">break</span>;
<a name="l00419"></a>00419         <span class="keywordflow">case</span> 1:
<a name="l00420"></a>00420           <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bf6b4f745ad1ec95be926f6fd11c07bd">get_domain_normal_at_mid_edge</a>( element_index, location.number, surf_norm, err );
<a name="l00421"></a>00421           <span class="keywordflow">break</span>;
<a name="l00422"></a>00422         <span class="keywordflow">case</span> 2:
<a name="l00423"></a>00423           assert(location.number == 0);
<a name="l00424"></a>00424           <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5b8159d9f92713464c7e5fd129c8f960">get_domain_normal_at_element</a>( element_index, surf_norm, err );
<a name="l00425"></a>00425           <span class="keywordflow">break</span>;
<a name="l00426"></a>00426         <span class="keywordflow">default</span>:
<a name="l00427"></a>00427           <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)(<span class="stringliteral">"Invalid dimension for surface element subentity.\n"</span>, MsqError::INVALID_ARG );
<a name="l00428"></a>00428       }
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 
<a name="l00432"></a>00432       <span class="comment">/*\param dk an array of directions, ordered like the vertices in</span>
<a name="l00433"></a>00433 <span class="comment">        the PatchData.</span>
<a name="l00434"></a>00434 <span class="comment">        \param nb_vtx number of vertices.</span>
<a name="l00435"></a>00435 <span class="comment">        \param step_size a scalar that multiplies the vectors given in dk.</span>
<a name="l00436"></a>00436 <span class="comment">      */</span>
<a name="l00437"></a>00437         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00438"></a>00438     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#3aa2f47031642071c52777656ee2edb7">move_free_vertices_constrained</a>(Vector3D dk[], size_t nb_vtx,
<a name="l00439"></a>00439                                         <span class="keywordtype">double</span> step_size, MsqError &amp;err);
<a name="l00440"></a>00440     
<a name="l00448"></a>00448         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00449"></a>00449     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5798e5771f9586142aecca678d611b34">set_free_vertices_constrained</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento, 
<a name="l00450"></a>00450                                        Vector3D dk[], size_t nb_vtx,
<a name="l00451"></a>00451                                        <span class="keywordtype">double</span> step_size, MsqError &amp;err);
<a name="l00452"></a>00452     
<a name="l00454"></a>00454         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00455"></a>00455     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0c83104e82fd635226f7d85e7e8e1795">project_gradient</a>( std::vector&lt;Vector3D&gt;&amp; <a class="code" href="namespaceMesquite.html#9434991ff4a507f43da94b26a9cc37ac">gradient</a>, MsqError&amp; err );
<a name="l00456"></a>00456 
<a name="l00459"></a>00459         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00460"></a>00460     <span class="keywordtype">double</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a11a56fe3d1d5cfb5adbea048813a79e">get_max_vertex_movement_squared</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento,
<a name="l00461"></a>00461                                            MsqError &amp;err);
<a name="l00462"></a>00462     
<a name="l00468"></a>00468         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00469"></a>00469     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#159447b75f622591e8f5375f03f851df">update_mesh</a>(MsqError &amp;err, <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#77eff90af5a2bd389b7232e61b40ce23">TagHandle</a>* tag = 0);
<a name="l00470"></a>00470     
<a name="l00473"></a>00473         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00474"></a>00474     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#50a598e8540d9b401819f5af82f804bd">update_slave_node_coordinates</a>( MsqError&amp; err );
<a name="l00475"></a>00475         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00476"></a>00476     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#50a598e8540d9b401819f5af82f804bd">update_slave_node_coordinates</a>( <span class="keyword">const</span> size_t* elem_indices,
<a name="l00477"></a>00477                                         size_t num_elem,
<a name="l00478"></a>00478                                         MsqError&amp; err );
<a name="l00479"></a>00479     
<a name="l00481"></a>00481         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00482"></a>00482     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c7882c09ebc3c81424b04253896602a1">set_all_vertices_soft_free</a>(MsqError &amp;err);
<a name="l00484"></a>00484         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00485"></a>00485     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f18f7fc32bbde319d65737fc8fa75176">set_all_vertices_soft_fixed</a>(MsqError &amp;err);
<a name="l00487"></a>00487         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00488"></a>00488     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#eab466e22f930c62d923203c29babe08">set_free_vertices_soft_fixed</a>(MsqError &amp;err);
<a name="l00489"></a>00489 
<a name="l00491"></a>00491         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00492"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#6034d811055c4a4800be1439a20ca1b0">00492</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6034d811055c4a4800be1439a20ca1b0">set_vertex_culled</a>( size_t vtx_index )
<a name="l00493"></a>00493       { vertexArray[vtx_index].flags() |= MsqVertex::MSQ_CULLED; }
<a name="l00495"></a>00495         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00496"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#b75f6b3e99d4c71b56ef94cbec1616c3">00496</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#b75f6b3e99d4c71b56ef94cbec1616c3">clear_vertex_culled</a>( size_t vtx_index )
<a name="l00497"></a>00497       { vertexArray[vtx_index].flags() &amp;= ~MsqVertex::MSQ_CULLED; }
<a name="l00499"></a>00499         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00500"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#f925590d57d80716771d85493ef994e6">00500</a>     <span class="keywordtype">int</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f925590d57d80716771d85493ef994e6">check_vertex_culled</a>( size_t vtx_index )<span class="keyword"> const</span>
<a name="l00501"></a>00501 <span class="keyword">      </span>{ <span class="keywordflow">return</span> vertexArray[vtx_index].get_flags() | MsqVertex::MSQ_CULLED; }
<a name="l00502"></a>00502     
<a name="l00509"></a>00509         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00510"></a>00510     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f967b5da6d8821de1b7f326ed97b411f">get_subpatch</a>(size_t center_vertex_index,
<a name="l00511"></a>00511                       <span class="keywordtype">unsigned</span> num_adj_elem_layers,
<a name="l00512"></a>00512                       <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a> &amp;pd_to_fill,
<a name="l00513"></a>00513                       MsqError &amp;err);
<a name="l00514"></a>00514     
<a name="l00515"></a>00515         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00516"></a>00516     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c4314f1cb222a2b64b09dba5e99c8d0d">get_free_vertex_coordinates</a>( std::vector&lt;Vector3D&gt;&amp; coords_out ) <span class="keyword">const</span>;
<a name="l00517"></a>00517     
<a name="l00520"></a>00520         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00521"></a>00521     <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ea493c37462b9b42a5d7a434cae32413">create_vertices_memento</a>( MsqError &amp;err );
<a name="l00522"></a>00522     
<a name="l00525"></a>00525         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00526"></a>00526     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0a7095810d0397c892c2230b0d77950f">recreate_vertices_memento</a>( <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento, 
<a name="l00527"></a>00527                                     MsqError &amp;err );
<a name="l00528"></a>00528     
<a name="l00531"></a>00531         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00532"></a>00532     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c3f6af7e4a512bfe67533af13986ff0f">set_to_vertices_memento</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento,
<a name="l00533"></a>00533                                  MsqError &amp;err);
<a name="l00534"></a>00534 
<a name="l00537"></a>00537         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00538"></a>00538     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#01be8a7e443ec15a3fcdb92bf46671e6">set_mesh</a>(Mesh* ms);
<a name="l00539"></a>00539     
<a name="l00541"></a>00541         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00542"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#11cdbcf06e5063d7c7f7d61574e71917">00542</a>     Mesh* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#11cdbcf06e5063d7c7f7d61574e71917">get_mesh</a>()<span class="keyword"> const</span>
<a name="l00543"></a>00543 <span class="keyword">      </span>{ <span class="keywordflow">return</span> myMesh; }
<a name="l00544"></a>00544       
<a name="l00545"></a>00545         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00546"></a>00546     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5745991e59db4c36a004c44c07e243c7">set_domain</a>( MeshDomain* dm );
<a name="l00547"></a>00547     
<a name="l00548"></a>00548         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00549"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ffd135ba8ec15fb4aaec8f62df83bde1">00549</a>     MeshDomain* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ffd135ba8ec15fb4aaec8f62df83bde1">get_domain</a>()<span class="keyword"> const</span>
<a name="l00550"></a>00550 <span class="keyword">      </span>{ <span class="keywordflow">return</span> myDomain; }
<a name="l00551"></a>00551     
<a name="l00552"></a>00552     
<a name="l00553"></a>00553         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00554"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#8ebdc4f80e223aadf361a7224a4d8f7f">00554</a>     <span class="keyword">const</span> Settings* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#8ebdc4f80e223aadf361a7224a4d8f7f">get_settings</a>()<span class="keyword"> const</span>
<a name="l00555"></a>00555 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings; }
<a name="l00556"></a>00556         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00557"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#4817f7152451920445a950d4ecf84662">00557</a>     <span class="keyword">const</span> MappingFunction* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#4817f7152451920445a950d4ecf84662">get_mapping_function</a>( <a class="code" href="namespaceMesquite.html#62db9e8a37d0fb86f47523b9bdbac930">EntityTopology</a> type )<span class="keyword"> const</span>
<a name="l00558"></a>00558 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings-&gt;get_mapping_function(type); }
<a name="l00559"></a>00559         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00560"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#347233fe70c2987b44f44dc8e3465bbe">00560</a>     <span class="keyword">const</span> MappingFunction2D* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#347233fe70c2987b44f44dc8e3465bbe">get_mapping_function_2D</a>( <a class="code" href="namespaceMesquite.html#62db9e8a37d0fb86f47523b9bdbac930">EntityTopology</a> type )<span class="keyword"> const</span>
<a name="l00561"></a>00561 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings-&gt;get_mapping_function_2D(type); }
<a name="l00562"></a>00562         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00563"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#b4cb6990549afbac0d88754d61c1d1ed">00563</a>     <span class="keyword">const</span> MappingFunction3D* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#b4cb6990549afbac0d88754d61c1d1ed">get_mapping_function_3D</a>( <a class="code" href="namespaceMesquite.html#62db9e8a37d0fb86f47523b9bdbac930">EntityTopology</a> type )<span class="keyword"> const</span>
<a name="l00564"></a>00564 <span class="keyword">      </span>{ <span class="keywordflow">return</span> mSettings-&gt;get_mapping_function_3D(type); }
<a name="l00565"></a>00565     
<a name="l00567"></a>00567         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00568"></a>00568     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#8f77d3daefd468b33314735f6bead07a">get_sample_location</a>( size_t element_index,
<a name="l00569"></a>00569                               Sample sample,
<a name="l00570"></a>00570                               Vector3D&amp; result,
<a name="l00571"></a>00571                               MsqError&amp; err ) <span class="keyword">const</span>;  
<a name="l00572"></a>00572     
<a name="l00575"></a>00575         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00576"></a>00576     NodeSet <a class="code" href="classMESQUITE__NS_1_1PatchData.html#15280afc33a2f850d6ae4386cbc6135f">non_slave_node_set</a>( size_t elem_idx ) <span class="keyword">const</span>;  
<a name="l00577"></a>00577     
<a name="l00578"></a>00578         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00579"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#12a10a80cbad232c7ee255df76b93a43">00579</a>     NodeSet <a class="code" href="classMESQUITE__NS_1_1PatchData.html#12a10a80cbad232c7ee255df76b93a43">get_samples</a>( size_t element, NodeSet non_slave_nodes )<span class="keyword"> const</span>
<a name="l00580"></a>00580 <span class="keyword">    </span>{
<a name="l00581"></a>00581         <span class="comment">// If we have a mapping function, use it</span>
<a name="l00582"></a>00582       <span class="keyword">const</span> <a class="code" href="namespaceMesquite.html#62db9e8a37d0fb86f47523b9bdbac930">EntityTopology</a> type = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6e88206d75de517bb3c52655f0568ad9">element_by_index</a>(element).<a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html#bf4743c307b036961bfc2a1863adb5e7">get_element_type</a>();
<a name="l00583"></a>00583       <span class="keyword">const</span> MappingFunction* f;
<a name="l00584"></a>00584       <span class="keywordflow">if</span> (mSettings &amp;&amp; (f = mSettings-&gt;get_mapping_function(type)))
<a name="l00585"></a>00585         <span class="keywordflow">return</span> f-&gt;sample_points( non_slave_nodes );
<a name="l00586"></a>00586         <span class="comment">// Otherwise default to sampling at all non-slave nodes</span>
<a name="l00587"></a>00587       non_slave_nodes.set_all_corner_nodes(type);
<a name="l00588"></a>00588       <span class="keywordflow">return</span> non_slave_nodes;
<a name="l00589"></a>00589     }
<a name="l00590"></a>00590     
<a name="l00591"></a>00591         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00592"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#9cb9232760dbfcf6c758d1f0eccdab6a">00592</a>     NodeSet <a class="code" href="classMESQUITE__NS_1_1PatchData.html#12a10a80cbad232c7ee255df76b93a43">get_samples</a>( size_t element )<span class="keyword"> const</span>
<a name="l00593"></a>00593 <span class="keyword">      </span>{ <span class="keywordflow">return</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#12a10a80cbad232c7ee255df76b93a43">get_samples</a>( element, <a class="code" href="classMESQUITE__NS_1_1PatchData.html#15280afc33a2f850d6ae4386cbc6135f">non_slave_node_set</a>( element ) ); }
<a name="l00594"></a>00594     
<a name="l00595"></a>00595         <a class="code" href="Mesquite_8hpp.html#34cb367af657d4d7ff021f81bd3a170f">MESQUITE_EXPORT</a>
<a name="l00596"></a>00596     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#12a10a80cbad232c7ee255df76b93a43">get_samples</a>( size_t element, std::vector&lt;Sample&gt;&amp; samples_out, MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00597"></a>00597     
<a name="l00599"></a>00599     <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0f83d8fa63c16bb3cf699ed0371fc760">operator&lt;&lt;</a>( std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>&amp; );
<a name="l00600"></a>00600    
<a name="l00601"></a>00601    <span class="keyword">private</span>:
<a name="l00602"></a>00602    
<a name="l00603"></a>00603     <span class="comment">/* allow access to the following to functions */</span>
<a name="l00604"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#18115d869f5fd0c4faedd07dda0e4a21">00604</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMesquite_1_1ExtraData.html">Mesquite::ExtraData</a>;    
<a name="l00606"></a>00606     <span class="keywordtype">bool</span> attach_extra_data( <a class="code" href="classMesquite_1_1ExtraData.html#f7b4ecd0cd3a8176a2cabd9f5b699967">ExtraData</a>* data );
<a name="l00608"></a>00608     <span class="keywordtype">bool</span> remove_extra_data( <a class="code" href="classMesquite_1_1ExtraData.html#f7b4ecd0cd3a8176a2cabd9f5b699967">ExtraData</a>* data );
<a name="l00609"></a>00609 
<a name="l00611"></a>00611     <span class="keywordtype">void</span> <a class="code" href="classMesquite_1_1ExtraData.html#ee5aa23efca8a355b67e5fe7f72722b4">notify_new_patch</a>( );
<a name="l00621"></a>00621     <span class="keywordtype">void</span> <a class="code" href="classMesquite_1_1ExtraData.html#04a7788b3989cb662a58f6522d9942d7">notify_sub_patch</a>( <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>&amp; sub_patch, 
<a name="l00622"></a>00622                            <span class="keyword">const</span> size_t* vertex_index_map,
<a name="l00623"></a>00623                            <span class="keyword">const</span> size_t* element_index_map,
<a name="l00624"></a>00624                            MsqError&amp; err );
<a name="l00626"></a>00626     <span class="keywordtype">void</span> <a class="code" href="classMesquite_1_1ExtraData.html#97f925974d779c15a907c7196c4b5c5e">notify_patch_destroyed</a>();
<a name="l00627"></a>00627 
<a name="l00631"></a>00631     <span class="keywordtype">void</span> enslave_higher_order_nodes( <span class="keyword">const</span> size_t* element_offset_array,
<a name="l00632"></a>00632                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* vertex_flags,
<a name="l00633"></a>00633                                      MsqError&amp; err ) <span class="keyword">const</span>;
<a name="l00634"></a>00634 
<a name="l00655"></a>00655     <span class="keywordtype">void</span> initialize_data( size_t* elem_offset_array, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* vertex_flags, MsqError&amp; err );
<a name="l00656"></a>00656     
<a name="l00670"></a>00670     <span class="keyword">static</span> <span class="keywordtype">void</span> make_handles_unique( <a class="code" href="classMesquite_1_1Mesh.html#c78da5b993d5ba5a011faf838ea5480b">Mesh::EntityHandle</a>* handles,
<a name="l00671"></a>00671                                      size_t&amp; count,
<a name="l00672"></a>00672                                      size_t* index_map = 0 );
<a name="l00673"></a>00673     
<a name="l00674"></a>00674       <span class="comment">/*\brief Note that the passed info has been calculated and stored */</span>
<a name="l00675"></a>00675     <span class="keywordtype">void</span> note_have_info( <a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2">ComputedInfo</a> info )
<a name="l00676"></a>00676       { haveComputedInfos |= (1&lt;&lt;info); }
<a name="l00677"></a>00677       
<a name="l00678"></a>00678       <span class="comment">/*\brief Update cached domain normal data */</span>
<a name="l00679"></a>00679     <span class="keywordtype">void</span> update_cached_normals( MsqError&amp; );
<a name="l00680"></a>00680 
<a name="l00681"></a>00681     Mesh* myMesh;              
<a name="l00682"></a>00682     MeshDomain* myDomain;      
<a name="l00683"></a>00683     
<a name="l00686"></a>00686     std::vector&lt;MsqVertex&gt; vertexArray;
<a name="l00689"></a>00689     std::vector&lt;Mesh::VertexHandle&gt; vertexHandlesArray;
<a name="l00695"></a>00695     size_t numFreeVertices;
<a name="l00700"></a>00700     size_t numSlaveVertices;
<a name="l00703"></a>00703     std::vector&lt;MsqMeshEntity&gt; elementArray;
<a name="l00706"></a>00706     std::vector&lt;Mesh::ElementHandle&gt; elementHandlesArray;
<a name="l00711"></a>00711     std::vector&lt;size_t&gt; elemConnectivityArray;
<a name="l00717"></a>00717     std::vector&lt;size_t&gt; vertAdjacencyArray;
<a name="l00722"></a>00722     std::vector&lt;size_t&gt; vertAdjacencyOffsets;
<a name="l00727"></a>00727     std::vector&lt;unsigned&gt; vertexNormalIndices;
<a name="l00730"></a>00730     std::vector&lt;Vector3D&gt; normalData;
<a name="l00735"></a>00735     std::vector&lt;unsigned short&gt; vertexDomainDOF;
<a name="l00736"></a>00736     
<a name="l00737"></a>00737       <span class="comment">// Arrays in which to store temporary data</span>
<a name="l00738"></a>00738       <span class="comment">// (avoids reallocation of temp space)</span>
<a name="l00739"></a>00739     std::vector&lt;size_t&gt; offsetArray;
<a name="l00740"></a>00740     std::vector&lt;unsigned char&gt; byteArray;
<a name="l00741"></a>00741     <span class="keyword">mutable</span> std::vector&lt;bool&gt; bitMap;
<a name="l00742"></a>00742     
<a name="l00743"></a>00743       <span class="comment">// Patch Computed Information (maxs, mins, etc ... )</span>
<a name="l00744"></a>00744     <span class="keywordtype">double</span> computedInfos[<a class="code" href="classMESQUITE__NS_1_1PatchData.html#aa9c595addfd53098a2779f245a2fec2ce43432ee7f84cc2be3cff99c92a8d4a">MAX_COMPUTED_INFO_ENUM</a>];
<a name="l00745"></a>00745       <span class="comment">// Bit map indicating which values in PatchData::computedInfos</span>
<a name="l00746"></a>00746       <span class="comment">// are valud (which values have been calculated.)</span>
<a name="l00747"></a>00747     <span class="keywordtype">unsigned</span> haveComputedInfos;
<a name="l00748"></a>00748     
<a name="l00749"></a>00749     <a class="code" href="classMesquite_1_1ExtraData.html#f7b4ecd0cd3a8176a2cabd9f5b699967">ExtraData</a>* dataList;
<a name="l00750"></a>00750     
<a name="l00751"></a>00751     <span class="keyword">const</span> Settings* mSettings;
<a name="l00752"></a>00752     <span class="keyword">static</span> <span class="keyword">const</span> Settings defaultSettings;
<a name="l00753"></a>00753 
<a name="l00754"></a>00754   };
<a name="l00755"></a>00755   
<a name="l00756"></a>00756   <span class="keywordtype">void</span> <a class="code" href="namespaceMESQUITE__NS.html#6ef0b84ee50fcac7edaad4e4fb79a41c">print_patch_data</a>( <span class="keyword">const</span> <a class="code" href="classMesquite_1_1ExtraData.html#0c85b14cdc7d117ec6c2bac7c0ad5972">PatchData</a>&amp; pd );
<a name="l00757"></a>00757   
<a name="l00758"></a>00758   
<a name="l00765"></a><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">00765</a>   <span class="keyword">class </span><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>
<a name="l00766"></a>00766   {
<a name="l00767"></a>00767   <span class="keyword">public</span>:
<a name="l00768"></a><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#b42fa7e9d27efc8fdf6b12d60cc63218">00768</a>     <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#b42fa7e9d27efc8fdf6b12d60cc63218">clear</a>()
<a name="l00769"></a>00769     {
<a name="l00770"></a>00770       originator = 0;
<a name="l00771"></a>00771       vertices.clear();
<a name="l00772"></a>00772       normalData.clear();
<a name="l00773"></a>00773     }
<a name="l00774"></a>00774   <span class="keyword">private</span>:
<a name="l00775"></a>00775     <span class="comment">// Constructor accessible only to originator (i.e. PatchData)</span>
<a name="l00776"></a><a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#0c85b14cdc7d117ec6c2bac7c0ad5972">00776</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>;
<a name="l00777"></a>00777     <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>() 
<a name="l00778"></a>00778       : originator(0)
<a name="l00779"></a>00779     {}
<a name="l00780"></a>00780     
<a name="l00781"></a>00781     <a class="code" href="classMESQUITE__NS_1_1PatchData.html">PatchData</a>* originator; 
<a name="l00782"></a>00782     std::vector&lt;MsqVertex&gt; vertices;
<a name="l00783"></a>00783     std::vector&lt;Vector3D&gt; normalData;
<a name="l00784"></a>00784   };
<a name="l00785"></a>00785 
<a name="l00786"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#0b754c7883288a9612fb074d756905fe">00786</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0b754c7883288a9612fb074d756905fe">PatchData::clear</a>()
<a name="l00787"></a>00787   {
<a name="l00788"></a>00788     vertexArray.clear();
<a name="l00789"></a>00789     vertexHandlesArray.clear();
<a name="l00790"></a>00790     elementArray.clear();
<a name="l00791"></a>00791     elementHandlesArray.clear();
<a name="l00792"></a>00792     elemConnectivityArray.clear();
<a name="l00793"></a>00793     vertAdjacencyArray.clear();
<a name="l00794"></a>00794     vertAdjacencyOffsets.clear();
<a name="l00795"></a>00795     vertexNormalIndices.clear();
<a name="l00796"></a>00796     normalData.clear();
<a name="l00797"></a>00797     <span class="comment">//vertexDomainDOF.clear();</span>
<a name="l00798"></a>00798     numFreeVertices = 0;
<a name="l00799"></a>00799     numSlaveVertices = 0;
<a name="l00800"></a>00800     haveComputedInfos = 0;
<a name="l00801"></a>00801     myMesh = 0;
<a name="l00802"></a>00802     myDomain = 0;
<a name="l00803"></a>00803   }
<a name="l00804"></a>00804   
<a name="l00805"></a>00805   
<a name="l00806"></a>00806   
<a name="l00807"></a>00807 
<a name="l00810"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#09a34cf58166aef66ba43cf57ef20484">00810</a>   <span class="keyword">inline</span> <span class="keyword">const</span> MsqVertex* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#cd97afe75f39aee9bd922ad8cc67f807">PatchData::get_vertex_array</a>(MsqError &amp;err)<span class="keyword"> const </span>
<a name="l00811"></a>00811 <span class="keyword">  </span>{
<a name="l00812"></a>00812     <span class="keywordflow">if</span> (vertexArray.empty()) 
<a name="l00813"></a>00813       <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)( <span class="stringliteral">"No vertex array defined"</span>, MsqError::INVALID_STATE );
<a name="l00814"></a>00814     <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(vertexArray);
<a name="l00815"></a>00815   }
<a name="l00816"></a>00816   <span class="comment">//inline MsqVertex* PatchData::get_vertex_array(MsqError &amp;err) </span>
<a name="l00817"></a>00817   <span class="comment">//{</span>
<a name="l00818"></a>00818   <span class="comment">//  if (vertexArray.empty()) </span>
<a name="l00819"></a>00819   <span class="comment">//    MSQ_SETERR(err)( "No vertex array defined", MsqError::INVALID_STATE );</span>
<a name="l00820"></a>00820   <span class="comment">//  return arrptr(vertexArray);</span>
<a name="l00821"></a>00821   <span class="comment">//}</span>
<a name="l00822"></a>00822   
<a name="l00825"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#5bc2ea95682a300c1bea2f8e372cd10c">00825</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5bc2ea95682a300c1bea2f8e372cd10c">PatchData::get_element_array</a>(MsqError &amp;err)<span class="keyword"> const</span>
<a name="l00826"></a>00826 <span class="keyword">  </span>{
<a name="l00827"></a>00827     <span class="keywordflow">if</span> (elementArray.empty()) 
<a name="l00828"></a>00828       <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)( <span class="stringliteral">"No element array defined"</span>, MsqError::INVALID_STATE );
<a name="l00829"></a>00829     <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(elementArray);
<a name="l00830"></a>00830   }
<a name="l00831"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#4469b7fde050261fa9d7c20b3a584349">00831</a>   <span class="keyword">inline</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#5bc2ea95682a300c1bea2f8e372cd10c">PatchData::get_element_array</a>(MsqError &amp;err)
<a name="l00832"></a>00832   {
<a name="l00833"></a>00833     <span class="keywordflow">if</span> (elementArray.empty()) 
<a name="l00834"></a>00834       <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)( <span class="stringliteral">"No element array defined"</span>, MsqError::INVALID_STATE );
<a name="l00835"></a>00835     <span class="keywordflow">return</span> <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(elementArray);
<a name="l00836"></a>00836   }
<a name="l00837"></a>00837  
<a name="l00840"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#f2dbb4b63e7edfcee048713adadd7e74">00840</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#f2dbb4b63e7edfcee048713adadd7e74">PatchData::set_vertex_coordinates</a>(<span class="keyword">const</span> Vector3D &amp;coords,
<a name="l00841"></a>00841                                                 size_t index,
<a name="l00842"></a>00842                                                 MsqError &amp;err) 
<a name="l00843"></a>00843   {
<a name="l00844"></a>00844     <span class="keywordflow">if</span> (index &gt;= vertexArray.size()) {
<a name="l00845"></a>00845       <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)( <span class="stringliteral">"Index bigger than numVertices."</span>, MsqError::INVALID_ARG );
<a name="l00846"></a>00846       <span class="keywordflow">return</span>;
<a name="l00847"></a>00847     }
<a name="l00848"></a>00848     
<a name="l00849"></a>00849     vertexArray[index] = coords;
<a name="l00850"></a>00850     
<a name="l00851"></a>00851     <span class="keywordflow">if</span> (numSlaveVertices) {
<a name="l00852"></a>00852       size_t num_elem;
<a name="l00853"></a>00853       <span class="keyword">const</span> size_t *indices;
<a name="l00854"></a>00854       indices = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#642a41b45a6fa86df2eab41aa05a65b1">get_vertex_element_adjacencies</a>( index, num_elem, err ); <a class="code" href="group__error.html#gb3bb4847196a6336b1fe6e2fd18caaef">MSQ_ERRRTN</a>(err);
<a name="l00855"></a>00855       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#50a598e8540d9b401819f5af82f804bd">update_slave_node_coordinates</a>( indices, num_elem, err ); <a class="code" href="group__error.html#gb3bb4847196a6336b1fe6e2fd18caaef">MSQ_ERRRTN</a>(err);
<a name="l00856"></a>00856     }
<a name="l00857"></a>00857   }
<a name="l00858"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#bcd1b4983b0032f5e50669ec97d51a08">00858</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#bcd1b4983b0032f5e50669ec97d51a08">PatchData::move_vertex</a>( <span class="keyword">const</span> Vector3D &amp;delta,
<a name="l00859"></a>00859                                       size_t index,
<a name="l00860"></a>00860                                       MsqError &amp;err) 
<a name="l00861"></a>00861   {
<a name="l00862"></a>00862     <span class="keywordflow">if</span> (index &gt;= vertexArray.size()) {
<a name="l00863"></a>00863       <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)( <span class="stringliteral">"Index bigger than numVertices."</span>, MsqError::INVALID_ARG );
<a name="l00864"></a>00864       <span class="keywordflow">return</span>;
<a name="l00865"></a>00865     }
<a name="l00866"></a>00866     
<a name="l00867"></a>00867     vertexArray[index] += delta;
<a name="l00868"></a>00868     
<a name="l00869"></a>00869     <span class="keywordflow">if</span> (numSlaveVertices) {
<a name="l00870"></a>00870       size_t num_elem;
<a name="l00871"></a>00871       <span class="keyword">const</span> size_t *indices;
<a name="l00872"></a>00872       indices = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#642a41b45a6fa86df2eab41aa05a65b1">get_vertex_element_adjacencies</a>( index, num_elem, err ); <a class="code" href="group__error.html#gb3bb4847196a6336b1fe6e2fd18caaef">MSQ_ERRRTN</a>(err);
<a name="l00873"></a>00873       <a class="code" href="classMESQUITE__NS_1_1PatchData.html#50a598e8540d9b401819f5af82f804bd">update_slave_node_coordinates</a>( indices, num_elem, err ); <a class="code" href="group__error.html#gb3bb4847196a6336b1fe6e2fd18caaef">MSQ_ERRRTN</a>(err);
<a name="l00874"></a>00874     }
<a name="l00875"></a>00875   }
<a name="l00876"></a>00876   
<a name="l00877"></a>00877   <span class="comment">//inline MsqVertex&amp; PatchData::vertex_by_index(size_t index)</span>
<a name="l00878"></a>00878   <span class="comment">//{</span>
<a name="l00879"></a>00879   <span class="comment">//  return vertexArray[index];</span>
<a name="l00880"></a>00880   <span class="comment">//}</span>
<a name="l00881"></a>00881   
<a name="l00882"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#a186f2a4eff4e0b39061b517fbd1a0e3">00882</a>   <span class="keyword">inline</span> <span class="keyword">const</span> MsqVertex&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#a186f2a4eff4e0b39061b517fbd1a0e3">PatchData::vertex_by_index</a>( size_t index )<span class="keyword"> const</span>
<a name="l00883"></a>00883 <span class="keyword">  </span>{ 
<a name="l00884"></a>00884     assert(index &lt; vertexArray.size());
<a name="l00885"></a>00885     <span class="keywordflow">return</span> vertexArray[index]; 
<a name="l00886"></a>00886   }
<a name="l00887"></a>00887   
<a name="l00888"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#6e88206d75de517bb3c52655f0568ad9">00888</a>   <span class="keyword">inline</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6e88206d75de517bb3c52655f0568ad9">PatchData::element_by_index</a>(size_t index)
<a name="l00889"></a>00889   {
<a name="l00890"></a>00890      assert(index &lt; elementArray.size()); 
<a name="l00891"></a>00891      <span class="keywordflow">return</span> elementArray[index];
<a name="l00892"></a>00892   }
<a name="l00893"></a>00893   
<a name="l00894"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#e239e0bb6a19a857ca535b677dafdde0">00894</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>&amp; <a class="code" href="classMESQUITE__NS_1_1PatchData.html#6e88206d75de517bb3c52655f0568ad9">PatchData::element_by_index</a>( size_t index )<span class="keyword"> const</span>
<a name="l00895"></a>00895 <span class="keyword">  </span>{ 
<a name="l00896"></a>00896      assert(index &lt; elementArray.size()); 
<a name="l00897"></a>00897      <span class="keywordflow">return</span> elementArray[index];
<a name="l00898"></a>00898   }
<a name="l00899"></a>00899   
<a name="l00902"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#0dec8d04ae6aa24cde7ad87ec87e786c">00902</a>   <span class="keyword">inline</span> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0dec8d04ae6aa24cde7ad87ec87e786c">PatchData::get_vertex_index</a>(MsqVertex* vertex)
<a name="l00903"></a>00903   {
<a name="l00904"></a>00904     <span class="keywordflow">return</span> vertex - <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(vertexArray);
<a name="l00905"></a>00905   }
<a name="l00906"></a>00906   
<a name="l00907"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#8bb6f81511c22513f1d0fffdc08a514c">00907</a>   <span class="keyword">inline</span> size_t <a class="code" href="classMESQUITE__NS_1_1PatchData.html#8bb6f81511c22513f1d0fffdc08a514c">PatchData::get_element_index</a>(<a class="code" href="classMESQUITE__NS_1_1MsqMeshEntity.html">MsqMeshEntity</a>* element)
<a name="l00908"></a>00908   {
<a name="l00909"></a>00909     <span class="keywordflow">return</span> element - <a class="code" href="namespaceMesquite.html#2006f0a79b4a9c548c6215dcc544778c">arrptr</a>(elementArray);
<a name="l00910"></a>00910   }
<a name="l00911"></a>00911 
<a name="l00912"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#c4314f1cb222a2b64b09dba5e99c8d0d">00912</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c4314f1cb222a2b64b09dba5e99c8d0d">PatchData::get_free_vertex_coordinates</a>( std::vector&lt;Vector3D&gt;&amp; coords_out )<span class="keyword"> const</span>
<a name="l00913"></a>00913 <span class="keyword">  </span>{
<a name="l00914"></a>00914     coords_out.resize( <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0dff391b58580a4b8f5e5f9228dfe7">num_free_vertices</a>() );
<a name="l00915"></a>00915     std::copy( vertexArray.begin(), vertexArray.begin()+<a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0dff391b58580a4b8f5e5f9228dfe7">num_free_vertices</a>(), 
<a name="l00916"></a>00916                    coords_out.begin() );
<a name="l00917"></a>00917   }
<a name="l00918"></a>00918     
<a name="l00919"></a>00919 
<a name="l00920"></a>00920   
<a name="l00929"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#ea493c37462b9b42a5d7a434cae32413">00929</a>   <span class="keyword">inline</span> <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ea493c37462b9b42a5d7a434cae32413">PatchData::create_vertices_memento</a>(MsqError&amp; err)
<a name="l00930"></a>00930   {
<a name="l00931"></a>00931     <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento = <span class="keyword">new</span> <a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>;
<a name="l00932"></a>00932     <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0a7095810d0397c892c2230b0d77950f">recreate_vertices_memento</a>( memento, err );
<a name="l00933"></a>00933     <span class="keywordflow">if</span> (<a class="code" href="group__error.html#g89169bf923bf910753638052db433a22">MSQ_CHKERR</a>(err)) {
<a name="l00934"></a>00934       <span class="keyword">delete</span> memento;
<a name="l00935"></a>00935       <span class="keywordflow">return</span> 0;
<a name="l00936"></a>00936     }
<a name="l00937"></a>00937     <span class="keywordflow">return</span> memento;
<a name="l00938"></a>00938   }
<a name="l00939"></a>00939   
<a name="l00948"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#0a7095810d0397c892c2230b0d77950f">00948</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#0a7095810d0397c892c2230b0d77950f">PatchData::recreate_vertices_memento</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento, 
<a name="l00949"></a>00949                                                    MsqError&amp; <span class="comment">/*err*/</span>)
<a name="l00950"></a>00950   {
<a name="l00951"></a>00951     memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#1189232728a2c5686927e85799e66259">originator</a> = <span class="keyword">this</span>;
<a name="l00952"></a>00952     
<a name="l00953"></a>00953     size_t num_vtx = <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0dff391b58580a4b8f5e5f9228dfe7">num_free_vertices</a>() + <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ac90f90482987ddf3987e493429d9e5d">num_slave_vertices</a>();
<a name="l00954"></a>00954     
<a name="l00955"></a>00955     memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#2ccbdddcd7adc5d8f8e157485fa8ca9c">vertices</a>.resize( num_vtx );
<a name="l00956"></a>00956     std::copy( vertexArray.begin(), vertexArray.begin()+num_vtx, memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#2ccbdddcd7adc5d8f8e157485fa8ca9c">vertices</a>.begin() );
<a name="l00957"></a>00957     
<a name="l00958"></a>00958     <span class="keywordtype">int</span> num_normal;
<a name="l00959"></a>00959     <span class="keywordflow">if</span> (normalData.empty())
<a name="l00960"></a>00960       num_normal = 0;
<a name="l00961"></a>00961     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vertexNormalIndices.empty()) 
<a name="l00962"></a>00962       num_normal = num_vtx;
<a name="l00963"></a>00963     <span class="keywordflow">else</span> {
<a name="l00964"></a>00964       num_normal = num_vtx;
<a name="l00965"></a>00965       <span class="keywordflow">while</span> (num_normal != 0 &amp;&amp; vertexNormalIndices[--num_normal] &gt;= normalData.size());
<a name="l00966"></a>00966       <span class="keywordflow">if</span> (num_normal == 0) {
<a name="l00967"></a>00967         <span class="keywordflow">if</span> (vertexNormalIndices[0] &lt; normalData.size())
<a name="l00968"></a>00968           num_normal = vertexNormalIndices[0] + 1;
<a name="l00969"></a>00969       }
<a name="l00970"></a>00970       <span class="keywordflow">else</span> 
<a name="l00971"></a>00971         num_normal = vertexNormalIndices[num_normal] + 1;
<a name="l00972"></a>00972     }
<a name="l00973"></a>00973     
<a name="l00974"></a>00974     memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#3648efcb00d7d3464949b09b243c8433">normalData</a>.resize( num_normal );
<a name="l00975"></a>00975     std::copy( normalData.begin(), normalData.begin()+num_normal, memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#3648efcb00d7d3464949b09b243c8433">normalData</a>.begin() );
<a name="l00976"></a>00976   }
<a name="l00977"></a>00977   
<a name="l00985"></a><a class="code" href="classMESQUITE__NS_1_1PatchData.html#c3f6af7e4a512bfe67533af13986ff0f">00985</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classMESQUITE__NS_1_1PatchData.html#c3f6af7e4a512bfe67533af13986ff0f">PatchData::set_to_vertices_memento</a>(<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html">PatchDataVerticesMemento</a>* memento,
<a name="l00986"></a>00986                                                  MsqError &amp;err)
<a name="l00987"></a>00987   {
<a name="l00988"></a>00988     <span class="keywordflow">if</span> (memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#1189232728a2c5686927e85799e66259">originator</a> != <span class="keyword">this</span>)
<a name="l00989"></a>00989     {
<a name="l00990"></a>00990       <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)(<span class="stringliteral">"Memento may only be used to restore the PatchData "</span>
<a name="l00991"></a>00991                       <span class="stringliteral">"object from which it was created."</span>,
<a name="l00992"></a>00992                       MsqError::INVALID_ARG);
<a name="l00993"></a>00993       <span class="keywordflow">return</span>;
<a name="l00994"></a>00994     }
<a name="l00995"></a>00995     
<a name="l00996"></a>00996     <span class="keywordflow">if</span> (memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#2ccbdddcd7adc5d8f8e157485fa8ca9c">vertices</a>.size() != <a class="code" href="classMESQUITE__NS_1_1PatchData.html#ec0dff391b58580a4b8f5e5f9228dfe7">num_free_vertices</a>()+<a class="code" href="classMESQUITE__NS_1_1PatchData.html#ac90f90482987ddf3987e493429d9e5d">num_slave_vertices</a>())
<a name="l00997"></a>00997     {
<a name="l00998"></a>00998       <a class="code" href="group__error.html#gae6b768761f28b93e4a49048380313a0">MSQ_SETERR</a>(err)(<span class="stringliteral">"Unable to restore patch coordinates.  Number of "</span>
<a name="l00999"></a>00999                       <span class="stringliteral">"vertices in PatchData has changed."</span>,
<a name="l01000"></a>01000                       MsqError::INVALID_STATE);
<a name="l01001"></a>01001       <span class="keywordflow">return</span>;
<a name="l01002"></a>01002     }
<a name="l01003"></a>01003     
<a name="l01004"></a>01004       <span class="comment">// copies the memento array into the PatchData array.</span>
<a name="l01005"></a>01005     std::copy( memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#2ccbdddcd7adc5d8f8e157485fa8ca9c">vertices</a>.begin(), memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#2ccbdddcd7adc5d8f8e157485fa8ca9c">vertices</a>.end(), vertexArray.begin() );
<a name="l01006"></a>01006     std::copy( memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#3648efcb00d7d3464949b09b243c8433">normalData</a>.begin(), memento-&gt;<a class="code" href="classMESQUITE__NS_1_1PatchDataVerticesMemento.html#3648efcb00d7d3464949b09b243c8433">normalData</a>.end(), normalData.begin() );
<a name="l01007"></a>01007   }
<a name="l01008"></a>01008       
<a name="l01009"></a>01009 } <span class="comment">// namespace</span>
<a name="l01010"></a>01010 
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu May 17 15:57:13 2012 for MESQUITE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
