<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MESQUITE: Mesquite::TQualityMetric Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceMesquite.html">Mesquite</a>::<a class="el" href="classMesquite_1_1TQualityMetric.html">TQualityMetric</a></div>
<h1>Mesquite::TQualityMetric Class Reference</h1><!-- doxytag: class="Mesquite::TQualityMetric" --><!-- doxytag: inherits="Mesquite::TMPQualityMetric" -->Compare targets to mapping function Jacobian matrices.  
<a href="#_details">More...</a>
<p>
Inheritance diagram for Mesquite::TQualityMetric:<p><center><img src="classMesquite_1_1TQualityMetric__inherit__graph.png" border="0" usemap="#Mesquite_1_1TQualityMetric__inherit__map" alt="Inheritance graph"></center>
<map name="Mesquite_1_1TQualityMetric__inherit__map">
<area href="classMesquite_1_1TMPQualityMetric.html" shape="rect" coords="23,213,223,597" alt="">
<area href="classMesquite_1_1ElemSampleQM.html" shape="rect" coords="28,5,217,165" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for Mesquite::TQualityMetric:<p><center><img src="classMesquite_1_1TQualityMetric__coll__graph.png" border="0" usemap="#Mesquite_1_1TQualityMetric__coll__map" alt="Collaboration graph"></center>
<map name="Mesquite_1_1TQualityMetric__coll__map">
<area href="classMesquite_1_1TMPQualityMetric.html" shape="rect" coords="5,5,205,389" alt="">
<area href="classMesquite_1_1TMetric.html" shape="rect" coords="229,93,387,301" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classMesquite_1_1TQualityMetric-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="classMesquite_1_1TMetric.html">TMetric</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#f694fd49c4222324e9f9b437061a2b79">MetricType</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#c50557addc24ee9257d10c5a95f2cbd9">TQualityMetric</a> (<a class="el" href="classMesquite_1_1TargetCalculator.html">TargetCalculator</a> *tc, <a class="el" href="classMesquite_1_1WeightCalculator.html">WeightCalculator</a> *wc, <a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> *target_metric)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#282a55279e8a41927afc773d6b44426d">TQualityMetric</a> (<a class="el" href="classMesquite_1_1TargetCalculator.html">TargetCalculator</a> *tc, <a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> *target_metric)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual MESQUITE_EXPORT std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#f35403a560e4a9cfc40c9a205f2c045d">get_name</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual MESQUITE_EXPORT bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#b0f0ee798a0f8eddf46354a74298fcf9">evaluate_with_gradient</a> (PatchData &amp;pd, size_t handle, double &amp;value, std::vector&lt; size_t &gt; &amp;indices, std::vector&lt; <a class="el" href="classMesquite_1_1Vector3D.html">Vector3D</a> &gt; &amp;gradient, <a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get metric value and gradient at a logical location in the patch.  <a href="#b0f0ee798a0f8eddf46354a74298fcf9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual MESQUITE_EXPORT bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#b8ae84f2387cead5e6747691200ed062">evaluate_with_Hessian_diagonal</a> (PatchData &amp;pd, size_t handle, double &amp;value, std::vector&lt; size_t &gt; &amp;indices, std::vector&lt; <a class="el" href="classMesquite_1_1Vector3D.html">Vector3D</a> &gt; &amp;gradient, std::vector&lt; <a class="el" href="classMesquite_1_1SymMatrix3D.html">SymMatrix3D</a> &gt; &amp;Hessian_diagonal, <a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get metric value and gradient at a logical location in the patch.  <a href="#b8ae84f2387cead5e6747691200ed062"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual MESQUITE_EXPORT bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#2090dcc43575a1acf8db3f8d042c8f7a">evaluate_with_Hessian</a> (PatchData &amp;pd, size_t handle, double &amp;value, std::vector&lt; size_t &gt; &amp;indices, std::vector&lt; <a class="el" href="classMesquite_1_1Vector3D.html">Vector3D</a> &gt; &amp;gradient, std::vector&lt; <a class="el" href="classMesquite_1_1Matrix3D.html">Matrix3D</a> &gt; &amp;Hessian, <a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get metric value and deravitives at a logical location in the patch.  <a href="#2090dcc43575a1acf8db3f8d042c8f7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#8589108481adf02736b892c12c5217cc">get_target_metric</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#c0b677420dbf03298f7e199e7f25607d">set_target_metric</a> (<a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> *m)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual MESQUITE_EXPORT bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMesquite_1_1TQualityMetric.html#a2210700b4002f2098e1a1f85fc48166">evaluate_internal</a> (PatchData &amp;pd, size_t handle, double &amp;value, size_t *indices, size_t &amp;num_indices, <a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;err)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Compare targets to mapping function Jacobian matrices. 
<p>
A quality metric defined using 2D and 3D target metrics, where the active (A) matrix compared to the target by the underlying metrics is the Jacobian matrix of the mapping function at a given sample point. For surface elements, A is rotated to align the normal with W, such that both matrices can be reduced from 3x2 to 2x2. 
<p>

<p>
Definition at line <a class="el" href="TQualityMetric_8hpp-source.html#l00053">53</a> of file <a class="el" href="TQualityMetric_8hpp-source.html">TQualityMetric.hpp</a>.<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="f694fd49c4222324e9f9b437061a2b79"></a><!-- doxytag: member="Mesquite::TQualityMetric::MetricType" ref="f694fd49c4222324e9f9b437061a2b79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> <a class="el" href="classMesquite_1_1TMetric.html">Mesquite::TQualityMetric::MetricType</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used in tests and other templatized code 
<p>
Reimplemented from <a class="el" href="classMesquite_1_1QualityMetric.html#59cfc5c793a40b101b5cb742036075cf">Mesquite::QualityMetric</a>.
<p>
Definition at line <a class="el" href="TQualityMetric_8hpp-source.html#l00058">58</a> of file <a class="el" href="TQualityMetric_8hpp-source.html">TQualityMetric.hpp</a>.
</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="c50557addc24ee9257d10c5a95f2cbd9"></a><!-- doxytag: member="Mesquite::TQualityMetric::TQualityMetric" ref="c50557addc24ee9257d10c5a95f2cbd9" args="(TargetCalculator *tc, WeightCalculator *wc, TMetric *target_metric)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mesquite::TQualityMetric::TQualityMetric           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1TargetCalculator.html">TargetCalculator</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1WeightCalculator.html">WeightCalculator</a> *&nbsp;</td>
          <td class="paramname"> <em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> *&nbsp;</td>
          <td class="paramname"> <em>target_metric</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tc</em>&nbsp;</td><td>The target calculator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wc</em>&nbsp;</td><td>The weight calculator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target_metric</em>&nbsp;</td><td>The target metric </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="TQualityMetric_8hpp-source.html#l00065">65</a> of file <a class="el" href="TQualityMetric_8hpp-source.html">TQualityMetric.hpp</a>.
</div>
</div><p>
<a class="anchor" name="282a55279e8a41927afc773d6b44426d"></a><!-- doxytag: member="Mesquite::TQualityMetric::TQualityMetric" ref="282a55279e8a41927afc773d6b44426d" args="(TargetCalculator *tc, TMetric *target_metric)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mesquite::TQualityMetric::TQualityMetric           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1TargetCalculator.html">TargetCalculator</a> *&nbsp;</td>
          <td class="paramname"> <em>tc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> *&nbsp;</td>
          <td class="paramname"> <em>target_metric</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tc</em>&nbsp;</td><td>The target calculator </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target_metric</em>&nbsp;</td><td>The target metric </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="TQualityMetric_8hpp-source.html#l00076">76</a> of file <a class="el" href="TQualityMetric_8hpp-source.html">TQualityMetric.hpp</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f35403a560e4a9cfc40c9a205f2c045d"></a><!-- doxytag: member="Mesquite::TQualityMetric::get_name" ref="f35403a560e4a9cfc40c9a205f2c045d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Mesquite::TQualityMetric::get_name           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Implements <a class="el" href="classMesquite_1_1QualityMetric.html#2551e6c6a1161ac926134ef69c5f64a4">Mesquite::QualityMetric</a>.
<p>
Definition at line <a class="el" href="TQualityMetric_8cpp-source.html#l00061">61</a> of file <a class="el" href="TQualityMetric_8cpp-source.html">TQualityMetric.cpp</a>.
<p>
References <a class="el" href="classMesquite_1_1TMetric.html#059d7aa2d500af53b86f4f931cff9fe7">Mesquite::TMetric::get_name()</a>.
</div>
</div><p>
<a class="anchor" name="b0f0ee798a0f8eddf46354a74298fcf9"></a><!-- doxytag: member="Mesquite::TQualityMetric::evaluate_with_gradient" ref="b0f0ee798a0f8eddf46354a74298fcf9" args="(PatchData &amp;pd, size_t handle, double &amp;value, std::vector&lt; size_t &gt; &amp;indices, std::vector&lt; Vector3D &gt; &amp;gradient, MsqError &amp;err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Mesquite::TQualityMetric::evaluate_with_gradient           </td>
          <td>(</td>
          <td class="paramtype">PatchData &amp;&nbsp;</td>
          <td class="paramname"> <em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classMesquite_1_1Vector3D.html">Vector3D</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>gradient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>err</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get metric value and gradient at a logical location in the patch. 
<p>
Evaluate the metric at one location in the PatchData. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pd</em>&nbsp;</td><td>The patch. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>The location in the patch (as passed back from get_evaluations). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The output metric value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>indices</em>&nbsp;</td><td>The free vertices that the evaluation is a function of, specified as vertex indices in the PatchData. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gradient</em>&nbsp;</td><td>The gradient of the metric as a function of the coordinates of the free vertices passed back in the indices list. </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classMesquite_1_1QualityMetric.html#e67705d7903f769d3d53640d8a27d034">Mesquite::QualityMetric</a>.
<p>
Definition at line <a class="el" href="TQualityMetric_8cpp-source.html#l00123">123</a> of file <a class="el" href="TQualityMetric_8cpp-source.html">TQualityMetric.cpp</a>.
<p>
References <a class="el" href="Mesquite_8hpp-source.html#l00244">Mesquite::arrptr()</a>, <a class="el" href="ElemSampleQM_8hpp-source.html#l00098">Mesquite::ElemSampleQM::elem()</a>, <a class="el" href="TMPQualityMetric_8cpp-source.html#l00247">Mesquite::TMPQualityMetric::evaluate_surface_common()</a>, <a class="el" href="TMetric_8cpp-source.html#l00207">Mesquite::TMetric::evaluate_with_grad()</a>, <a class="el" href="classMesquite_1_1TargetCalculator.html#4688c8dfa1c8b40a51c491f3c2313131">Mesquite::TargetCalculator::get_3D_target()</a>, <a class="el" href="MsqMatrix_8hpp-source.html#l00683">Mesquite::inverse()</a>, <a class="el" href="MappingFunction_8cpp-source.html#l00195">Mesquite::MappingFunction3D::jacobian()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00157">Mesquite::TMPQualityMetric::mDerivs2D</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00156">Mesquite::TMPQualityMetric::mDerivs3D</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00154">Mesquite::TMPQualityMetric::mIndices</a>, <a class="el" href="MsqError_8hpp-source.html#l00052">MSQ_CHKERR</a>, <a class="el" href="MsqError_8hpp-source.html#l00062">MSQ_ERRZERO</a>, <a class="el" href="MsqError_8hpp-source.html#l00077">MSQ_SETERR</a>, <a class="el" href="ElemSampleQM_8hpp-source.html#l00095">Mesquite::ElemSampleQM::sample()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00159">Mesquite::TMPQualityMetric::targetCalc</a>, <a class="el" href="Matrix3D_8hpp-source.html#l00514">Mesquite::transpose()</a>, <a class="el" href="classMesquite_1_1MsqError.html#1d7c4cd95eccb8d09c39504ff0c2ec0b6f38e79b935dc9d51eeb5a224defdf97">Mesquite::MsqError::UNSUPPORTED_ELEMENT</a>, and <a class="el" href="TMPQualityMetric_8cpp-source.html#l00318">Mesquite::TMPQualityMetric::weight()</a>.
</div>
</div><p>
<a class="anchor" name="b8ae84f2387cead5e6747691200ed062"></a><!-- doxytag: member="Mesquite::TQualityMetric::evaluate_with_Hessian_diagonal" ref="b8ae84f2387cead5e6747691200ed062" args="(PatchData &amp;pd, size_t handle, double &amp;value, std::vector&lt; size_t &gt; &amp;indices, std::vector&lt; Vector3D &gt; &amp;gradient, std::vector&lt; SymMatrix3D &gt; &amp;Hessian_diagonal, MsqError &amp;err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Mesquite::TQualityMetric::evaluate_with_Hessian_diagonal           </td>
          <td>(</td>
          <td class="paramtype">PatchData &amp;&nbsp;</td>
          <td class="paramname"> <em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classMesquite_1_1Vector3D.html">Vector3D</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>gradient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classMesquite_1_1SymMatrix3D.html">SymMatrix3D</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>Hessian_diagonal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>err</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get metric value and gradient at a logical location in the patch. 
<p>
Evaluate the metric at one location in the PatchData. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pd</em>&nbsp;</td><td>The patch. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>The location in the patch (as passed back from get_evaluations). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The output metric value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>indices</em>&nbsp;</td><td>The free vertices that the evaluation is a function of, specified as vertex indices in the PatchData. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gradient</em>&nbsp;</td><td>The gradient of the metric as a function of the coordinates of the free vertices passed back in the indices list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Hessian_diagonal</em>&nbsp;</td><td>The 3x3 blocks along the diagonal of the Hessian matrix. </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classMesquite_1_1QualityMetric.html#8290dcdd4f5a2459573e212ff85073af">Mesquite::QualityMetric</a>.
<p>
Definition at line <a class="el" href="TQualityMetric_8cpp-source.html#l00285">285</a> of file <a class="el" href="TQualityMetric_8cpp-source.html">TQualityMetric.cpp</a>.
<p>
References <a class="el" href="Mesquite_8hpp-source.html#l00244">Mesquite::arrptr()</a>, <a class="el" href="ElemSampleQM_8hpp-source.html#l00098">Mesquite::ElemSampleQM::elem()</a>, <a class="el" href="TMPQualityMetric_8cpp-source.html#l00247">Mesquite::TMPQualityMetric::evaluate_surface_common()</a>, <a class="el" href="TMetric_8cpp-source.html#l00223">Mesquite::TMetric::evaluate_with_hess()</a>, <a class="el" href="QualityMetric_8cpp-source.html#l00261">Mesquite::QualityMetric::evaluate_with_Hessian_diagonal()</a>, <a class="el" href="classMesquite_1_1TargetCalculator.html#4688c8dfa1c8b40a51c491f3c2313131">Mesquite::TargetCalculator::get_3D_target()</a>, <a class="el" href="MsqMatrix_8hpp-source.html#l00683">Mesquite::inverse()</a>, <a class="el" href="MappingFunction_8cpp-source.html#l00195">Mesquite::MappingFunction3D::jacobian()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00157">Mesquite::TMPQualityMetric::mDerivs2D</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00156">Mesquite::TMPQualityMetric::mDerivs3D</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00154">Mesquite::TMPQualityMetric::mIndices</a>, <a class="el" href="MsqError_8hpp-source.html#l00052">MSQ_CHKERR</a>, <a class="el" href="MsqError_8hpp-source.html#l00062">MSQ_ERRZERO</a>, <a class="el" href="MsqError_8hpp-source.html#l00077">MSQ_SETERR</a>, <a class="el" href="MsqMatrix_8hpp-source.html#l00126">Mesquite::MsqMatrix&lt; R, C &gt;::row()</a>, <a class="el" href="ElemSampleQM_8hpp-source.html#l00095">Mesquite::ElemSampleQM::sample()</a>, <a class="el" href="TMPDerivs_8hpp-source.html#l00328">Mesquite::second_deriv_wrt_product_factor()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00159">Mesquite::TMPQualityMetric::targetCalc</a>, <a class="el" href="Matrix3D_8hpp-source.html#l00514">Mesquite::transpose()</a>, <a class="el" href="classMesquite_1_1MsqError.html#1d7c4cd95eccb8d09c39504ff0c2ec0b6f38e79b935dc9d51eeb5a224defdf97">Mesquite::MsqError::UNSUPPORTED_ELEMENT</a>, and <a class="el" href="TMPQualityMetric_8cpp-source.html#l00318">Mesquite::TMPQualityMetric::weight()</a>.
</div>
</div><p>
<a class="anchor" name="2090dcc43575a1acf8db3f8d042c8f7a"></a><!-- doxytag: member="Mesquite::TQualityMetric::evaluate_with_Hessian" ref="2090dcc43575a1acf8db3f8d042c8f7a" args="(PatchData &amp;pd, size_t handle, double &amp;value, std::vector&lt; size_t &gt; &amp;indices, std::vector&lt; Vector3D &gt; &amp;gradient, std::vector&lt; Matrix3D &gt; &amp;Hessian, MsqError &amp;err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Mesquite::TQualityMetric::evaluate_with_Hessian           </td>
          <td>(</td>
          <td class="paramtype">PatchData &amp;&nbsp;</td>
          <td class="paramname"> <em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classMesquite_1_1Vector3D.html">Vector3D</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>gradient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classMesquite_1_1Matrix3D.html">Matrix3D</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>Hessian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>err</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get metric value and deravitives at a logical location in the patch. 
<p>
Evaluate the metric at one location in the PatchData. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pd</em>&nbsp;</td><td>The patch. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>The location in the patch (as passed back from get_evaluations). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>The output metric value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>indices</em>&nbsp;</td><td>The free vertices that the evaluation is a function of, specified as vertex indices in the PatchData. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gradient</em>&nbsp;</td><td>The gradient of the metric as a function of the coordinates of the free vertices passed back in the indices list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Hessian</em>&nbsp;</td><td>The Hessian of the metric as a function of the coordinates. The Hessian is passed back as the upper-triangular portion of the matrix in row-major order, where each <a class="el" href="classMesquite_1_1Matrix3D.html">Matrix3D</a> is the portion of the Hessian with respect to the vertices at the corresponding positions in the indices list. </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classMesquite_1_1QualityMetric.html#e109d15f36ee2dbfed480643911f4eb6">Mesquite::QualityMetric</a>.
<p>
Definition at line <a class="el" href="TQualityMetric_8cpp-source.html#l00190">190</a> of file <a class="el" href="TQualityMetric_8cpp-source.html">TQualityMetric.cpp</a>.
<p>
References <a class="el" href="Mesquite_8hpp-source.html#l00244">Mesquite::arrptr()</a>, <a class="el" href="ElemSampleQM_8hpp-source.html#l00098">Mesquite::ElemSampleQM::elem()</a>, <a class="el" href="TMPQualityMetric_8cpp-source.html#l00247">Mesquite::TMPQualityMetric::evaluate_surface_common()</a>, <a class="el" href="TMetric_8cpp-source.html#l00223">Mesquite::TMetric::evaluate_with_hess()</a>, <a class="el" href="QualityMetric_8cpp-source.html#l00174">Mesquite::QualityMetric::evaluate_with_Hessian()</a>, <a class="el" href="classMesquite_1_1TargetCalculator.html#4688c8dfa1c8b40a51c491f3c2313131">Mesquite::TargetCalculator::get_3D_target()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00155">Mesquite::TMPQualityMetric::hess2d</a>, <a class="el" href="MsqMatrix_8hpp-source.html#l00683">Mesquite::inverse()</a>, <a class="el" href="MappingFunction_8cpp-source.html#l00195">Mesquite::MappingFunction3D::jacobian()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00157">Mesquite::TMPQualityMetric::mDerivs2D</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00156">Mesquite::TMPQualityMetric::mDerivs3D</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00154">Mesquite::TMPQualityMetric::mIndices</a>, <a class="el" href="MsqError_8hpp-source.html#l00052">MSQ_CHKERR</a>, <a class="el" href="MsqError_8hpp-source.html#l00062">MSQ_ERRZERO</a>, <a class="el" href="MsqError_8hpp-source.html#l00077">MSQ_SETERR</a>, <a class="el" href="ElemSampleQM_8hpp-source.html#l00095">Mesquite::ElemSampleQM::sample()</a>, <a class="el" href="TMPDerivs_8hpp-source.html#l00328">Mesquite::second_deriv_wrt_product_factor()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00159">Mesquite::TMPQualityMetric::targetCalc</a>, <a class="el" href="Matrix3D_8hpp-source.html#l00514">Mesquite::transpose()</a>, <a class="el" href="classMesquite_1_1MsqError.html#1d7c4cd95eccb8d09c39504ff0c2ec0b6f38e79b935dc9d51eeb5a224defdf97">Mesquite::MsqError::UNSUPPORTED_ELEMENT</a>, and <a class="el" href="TMPQualityMetric_8cpp-source.html#l00318">Mesquite::TMPQualityMetric::weight()</a>.
</div>
</div><p>
<a class="anchor" name="8589108481adf02736b892c12c5217cc"></a><!-- doxytag: member="Mesquite::TQualityMetric::get_target_metric" ref="8589108481adf02736b892c12c5217cc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMesquite_1_1TMetric.html">TMetric</a>* Mesquite::TQualityMetric::get_target_metric           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="TQualityMetric_8hpp-source.html#l00111">111</a> of file <a class="el" href="TQualityMetric_8hpp-source.html">TQualityMetric.hpp</a>.
<p>
Referenced by <a class="el" href="VertexMover_8cpp-source.html#l00134">Mesquite::VertexMover::loop_over_mesh()</a>.
</div>
</div><p>
<a class="anchor" name="c0b677420dbf03298f7e199e7f25607d"></a><!-- doxytag: member="Mesquite::TQualityMetric::set_target_metric" ref="c0b677420dbf03298f7e199e7f25607d" args="(TMetric *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mesquite::TQualityMetric::set_target_metric           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1TMetric.html">TMetric</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="TQualityMetric_8hpp-source.html#l00112">112</a> of file <a class="el" href="TQualityMetric_8hpp-source.html">TQualityMetric.hpp</a>.
</div>
</div><p>
<a class="anchor" name="a2210700b4002f2098e1a1f85fc48166"></a><!-- doxytag: member="Mesquite::TQualityMetric::evaluate_internal" ref="a2210700b4002f2098e1a1f85fc48166" args="(PatchData &amp;pd, size_t handle, double &amp;value, size_t *indices, size_t &amp;num_indices, MsqError &amp;err)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Mesquite::TQualityMetric::evaluate_internal           </td>
          <td>(</td>
          <td class="paramtype">PatchData &amp;&nbsp;</td>
          <td class="paramname"> <em>pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&nbsp;</td>
          <td class="paramname"> <em>num_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMesquite_1_1MsqError.html">MsqError</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>err</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Implements <a class="el" href="classMesquite_1_1TMPQualityMetric.html#4a3ec9c97a640374f78d59dabfb707d7">Mesquite::TMPQualityMetric</a>.
<p>
Definition at line <a class="el" href="TQualityMetric_8cpp-source.html#l00066">66</a> of file <a class="el" href="TQualityMetric_8cpp-source.html">TQualityMetric.cpp</a>.
<p>
References <a class="el" href="ElemSampleQM_8hpp-source.html#l00098">Mesquite::ElemSampleQM::elem()</a>, <a class="el" href="TMetric_8cpp-source.html#l00193">Mesquite::TMetric::evaluate()</a>, <a class="el" href="TMPQualityMetric_8cpp-source.html#l00247">Mesquite::TMPQualityMetric::evaluate_surface_common()</a>, <a class="el" href="classMesquite_1_1TargetCalculator.html#4688c8dfa1c8b40a51c491f3c2313131">Mesquite::TargetCalculator::get_3D_target()</a>, <a class="el" href="MsqMatrix_8hpp-source.html#l00683">Mesquite::inverse()</a>, <a class="el" href="MappingFunction_8cpp-source.html#l00195">Mesquite::MappingFunction3D::jacobian()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00157">Mesquite::TMPQualityMetric::mDerivs2D</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00156">Mesquite::TMPQualityMetric::mDerivs3D</a>, <a class="el" href="MsqError_8hpp-source.html#l00052">MSQ_CHKERR</a>, <a class="el" href="MsqError_8hpp-source.html#l00062">MSQ_ERRZERO</a>, <a class="el" href="MsqError_8hpp-source.html#l00077">MSQ_SETERR</a>, <a class="el" href="ElemSampleQM_8hpp-source.html#l00095">Mesquite::ElemSampleQM::sample()</a>, <a class="el" href="TMPQualityMetric_8hpp-source.html#l00159">Mesquite::TMPQualityMetric::targetCalc</a>, and <a class="el" href="classMesquite_1_1MsqError.html#1d7c4cd95eccb8d09c39504ff0c2ec0b6f38e79b935dc9d51eeb5a224defdf97">Mesquite::MsqError::UNSUPPORTED_ELEMENT</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TQualityMetric_8hpp-source.html">TQualityMetric.hpp</a><li><a class="el" href="TQualityMetric_8cpp-source.html">TQualityMetric.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on 16 May 2013 for MESQUITE by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
